# LLM : Large Language Model
# ëŒ€ê·œëª¨ ë°ì´í„°ë¥¼ ê¸°ë°˜ìœ¼ë¡œ í•™ìŠµëœ ì´ˆê±°ëŒ€ 'ì–¸ì–´ ëª¨ë¸'ë¡œ,
# ìì—°ì–´ ìƒì„±, ë²ˆì—­, ìš”ì•½ ë“± ë‹¤ì–‘í•œ 'ì–¸ì–´'ê´€ë ¨ ì‘ì—…ì„ ìˆ˜í–‰í•  ìˆ˜ ìˆëŠ” ë”¥ëŸ¬ë‹ ëª¨ë¸ì´ë‹¤.

# ê°€ì¥ ê·¼ë³¸ì ì¸ ì‘ì—…ì€ "ë‹¤ìŒì— ì˜¬ ë‹¨ì–´ ì˜ˆì¸¡í•˜ê¸°"

# íŠ¸ëœìŠ¤í¬ë¨¸ ì•„í‚¤í…ì²˜, ì–´í…ì…˜ ë§¤ì»¤ë‹ˆì¦˜ : Transformer - Attention Mechanism
# ì¸ê°„ì´ í•™ìŠµí•˜ëŠ” ê³¼ì •ì—ì„œë„ ëª¨ë“  ë‹¨ì–´ë¥¼ ê¸°ì–µí•˜ì§€ ì•Šê³ (ëª¨ë“  ê²ƒì„ ë‹¤ ë™ì¼í•œ ë¹„ì¤‘ìœ¼ë¡œ ê¸°ì–µí•˜ëŠ” ê²Œ ì•„ë‹ˆë¼)
# í˜•ê´‘íœìœ¼ë¡œ ì£¼ìš” ë‹¨ì–´ë¥¼ ë°‘ì¤„ì¹˜ë©° ê¸°ì–µí•˜ëŠ” ë“±ì˜ ê³¼ì •ì„ ê±°ì¹  ê²ƒì„.
# Attention Mechanismì€ ê·¸ëŸ° í˜•ê´‘íœì˜ ì—­í• ì„ í•˜ëŠ” ë§¤ì»¤ë‹ˆì¦˜ì„. (íŒŒë¼ë¯¸í„°ê°€ ë„ˆë¬´ ë§ê¸° ë•Œë¬¸ì— ì ìˆ˜ë¥¼ ë¶€ì—¬í•´ì„œ ì£¼ìš” ë‹¨ì–´ ì˜ˆì¸¡)

# í™˜ê° Hallucination : ì‚¬ì‹¤ì´ ì•„ë‹Œ ì •ë³´ë¥¼ ìƒì„±í•˜ëŠ” ê²ƒ - í•™ìŠµ ë°ì´í„°ì˜ ë¶ˆì™„ì „ì„±, ê³¼ë„í•œ ì¼ë°˜í™”ë¡œ ì¸í•´ ë°œìƒ
# -> 2ì°¨ ê²€ì¦ì´ í•„ìš”í•˜ë‹¤

# êµ¬ê¸€ì— openai api ê²€ìƒ‰, ìš°ì¸¡ ìƒë‹¨ API í”Œë«í¼ í´ë¦­, ë¡œê·¸ì¸
# API í”Œë«í¼ ë“¤ì–´ê°€ì„œ ìš°ì¸¡ ìƒë‹¨ Start building ëˆ„ë¥´ê³  Organization ë§Œë“¤ (I'll invite my team later ì„ íƒ)
# Token ë‹µë³€ì— ë”°ë¼ ë¹„ìš©ì´ ì¸¡ì •ë¨. -> Max tokensë¥¼ ì ë‹¹íˆ ì‘ê²Œ ì¡ì•„ì•¼ ë¹„ìš©ì´ ëœ ë‚˜ê°
# System messageì— í˜ë¥´ì†Œë‚˜(e.g. 'ë‹¹ì‹ ì€ ëª¨ë“  ë‹µë³€ì„ í•´ì ì²˜ëŸ¼ ë§í•˜ëŠ” ìœ ì¾Œí•œ AI ì„ ì¥ì…ë‹ˆë‹¤.')
# User messageì—ëŠ” (ì•„ë§ˆë„) Userì˜ í˜ë¥´ì†Œë‚˜ ì„¤ì • ê°€ëŠ¥
# ChatGPTì˜ temperature(ì°½ì˜ì„±?)ì€ 0ë¶€í„° 2ê¹Œì§€ì„. : 0ìœ¼ë¡œ ì„¤ì •í•˜ë©´ ìµœëŒ€í•œ ë°©ì–´ì (ë³´ìˆ˜ì )ìœ¼ë¡œ ë‹µë³€í•¨
# ì°½ì˜ì„±ì´ ë‚®ì„ìˆ˜ë¡ ì˜ˆì¸¡ê°€ëŠ¥í•œ ì¼ê´€ì ì¸, ì‚¬ì‹¤ ìœ„ì£¼ì˜ LLM : Large Language Model
# ì§€ì‹œì‚¬í•­ì„ êµ¬ì²´ì ìœ¼ë¡œ í•  ìˆ˜ë¡ ì§ˆ ë†’ì€ ê²°ê³¼ë¥¼ ì–»ê²Œ ëœë‹¤.


1. VS code í™•ì¥ í”„ë¡œê·¸ë¨ì—ì„œ 'jupyter' ë‹¤ìš´
2. .ipynb íŒŒì¼ ìƒì„±
3. í™˜ê²½ ì„¤ì • ë“¤ì–´ê°„ ì½”ë“œ run > ipykernel ì„¤ì¹˜í•˜ë¼ê³  ë‚˜ì˜´. ì„¤ì¹˜
4. %pip install openai runí•˜ë©´ ì»¤ë„¬ ì„ íƒ(select kernel)í•˜ë¼ê³  ë‚˜ì˜´. > ë¯¸ë¦¬ ë§Œë“¤ì–´ë’€ë˜ pythonstudy_env í™˜ê²½ ì„ íƒ
5. .env íŒŒì¼, .gitignore íŒŒì¼ ìƒì„±

16_LLM/02_prompt_engineering.ipynb
# Prompting Engineering w/ chatgpt
í™˜ê²½ì„¤ì •

%pip install openai

# OPENAI_API_KEYì„¤ì •
import os
from dotenv import load_dotenv

load_dotenv() # í˜„ì¬ ê²½ë¡œì˜ .env íŒŒì¼ì„ ì½ì–´ ì‹œìŠ¤í…œ í™˜ê²½ë³€ìˆ˜ë¡œ ë“±ë¡

OPENAI_API_KEY = os.getenv('OPENAI_API_KEY')

#Chat Completion

from openai import OpenAI

#client-server í•˜ë‚˜ ì„¤ì •
client = OpenAI(api_key=OPENAI_API_KEY)
# ë‚˜ì˜ openai apií‚¤ë¥¼ ê°–ê³  ìˆëŠ” í´ë¼ì´ì–¸íŠ¸ê°€ ìƒì„±ë˜ì—ˆë‹¤.

response = client.chat.completions.create(
    model="gpt-4.1",
    messages=[
        {
            "role": "system", 
            "content": [
                {
                    # íƒ€ì…ê³¼ í…ìŠ¤íŠ¸(ì—­í• )ë¥¼ ë‹¤ ì „ë‹¬í•´ì•¼í•¨
                    "type": "text",
                    "text": "ë‹¹ì‹ ì€ ììƒí•˜ê³  ì¹œì ˆí•œ ì±—ë´‡ì…ë‹ˆë‹¤."
                }
            ]
        },
        {
            "role": "user",
            "content": [
                {
                    "type": "text",
                    "content": [
                        {
                            "type": "text",
                            "text": "ë”ìš´ ë‚  ì ì‹¬ìœ¼ë¡œ ë­˜ ë¨¹ìœ¼ë©´ ì¢‹ì„ê¹Œìš”?"
                        }
                    ]
                }
            ]
        }
    ],
    response_format={
        'type': "text"
    },
    temperature=1.0, # ëŒ€ë‹µ ì°½ì˜ì„±ì— ê´€í•œ ì„¤ì •(ê¸°ë³¸ê°’: 1), 0~2ê¹Œì§€ ì„¤ì • ê°€ëŠ¥
    max_tokens=2048, # ì‘ë‹µì— ì‚¬ìš©ë  í† í° ìˆ˜(ì‘ë‹µ ìµœëŒ€í† í°ìˆ˜)
    top_p=1, # ì‚¬ìš©í•  ìƒìœ„ëˆ„ì í™•ë¥ 
    frequency_penalty=0, # í† í° ì‚¬ìš© ë¹ˆë„ìˆ˜ì— ëŒ€í•œ íŒ¨ë„í‹°
    presence_penalty=0 # í† í° ì¬ì‚¬ìš©ì— ëŒ€í•œ íŒ¨ë„í‹°
)

print(response.choices[0].message.content)

# ğŸš¨ì—ëŸ¬!!
# ì•ˆë…•í•˜ì„¸ìš”! ë¬´ì—‡ì„ ë„ì™€ë“œë¦´ê¹Œìš”? ğŸ˜Š
# ë¼ê³ ë§Œ ëœ¸

# ì›ì¸ ë¶„ì„1. ì½”ë“œê°€ ì˜ëª» ëë‚˜??
# -> ì½”ë“œ ë¹„êµ
"role": "system", 
            "content": [
                {
                    # íƒ€ì…ê³¼ í…ìŠ¤íŠ¸(ì—­í• )ë¥¼ ë‹¤ ì „ë‹¬í•´ì•¼í•¨
                    "type": "text",
                    "text": "ë‹¹ì‹ ì€ ììƒí•˜ê³  ì¹œì ˆí•œ ì±—ë´‡ì…ë‹ˆë‹¤."
                }
            ]
ì´ êµ¬ì¡°ì™€ ë‹¤ë¥´ê²Œ
 "role": "user",
            "content": [
                {
                    "type": "text",
                    "content": [
                        {
                            "type": "text",
                            "text": "ë”ìš´ ë‚  ì ì‹¬ìœ¼ë¡œ ë­˜ ë¨¹ìœ¼ë©´ ì¢‹ì„ê¹Œìš”?"
                        }
                    ]
                }
            ]
ì—¬ê¸°ì—ì„œ ë‘ ë²ˆì§¸ content ê°’ì´ ì¤‘ë³µ ë˜ëŠ” ê±° ê°™ìŒ.
"content": [
             {
               "type": "text",
               "text": "ë”ìš´ ë‚  ì ì‹¬ìœ¼ë¡œ ë­˜ ë¨¹ìœ¼ë©´ ì¢‹ì„ê¹Œìš”?"
             }
]
ì‚­ì œí•˜ê³  text ê°’ë§Œ "type" ì•„ë˜ì— ë„£ìŒ

# ìˆ˜ì • í›„
response = client.chat.completions.create(
    model="gpt-4.1",
    messages=[
        {
            "role": "system", 
            "content": [
                {
                    # íƒ€ì…ê³¼ í…ìŠ¤íŠ¸(ì—­í• )ë¥¼ ë‹¤ ì „ë‹¬í•´ì•¼í•¨
                    "type": "text",
                    "text": "ë‹¹ì‹ ì€ ììƒí•˜ê³  ì¹œì ˆí•œ ì±—ë´‡ì…ë‹ˆë‹¤."
                }
            ]
        },
        {
            "role": "user",
            "content": [
                {
                    "type": "text",
                    "text": "ë”ìš´ ë‚  ì ì‹¬ìœ¼ë¡œ ë­˜ ë¨¹ìœ¼ë©´ ì¢‹ì„ê¹Œìš”?"
                }
            ]
        }
    ],
    response_format={
        'type': "text"
    },
    temperature=1.0, # ëŒ€ë‹µ ì°½ì˜ì„±ì— ê´€í•œ ì„¤ì •(ê¸°ë³¸ê°’: 1), 0~2ê¹Œì§€ ì„¤ì • ê°€ëŠ¥
    max_tokens=2048, # ì‘ë‹µì— ì‚¬ìš©ë  í† í° ìˆ˜(ì‘ë‹µ ìµœëŒ€í† í°ìˆ˜)
    top_p=1, # ì‚¬ìš©í•  ìƒìœ„ëˆ„ì í™•ë¥ 
    frequency_penalty=0, # í† í° ì‚¬ìš© ë¹ˆë„ìˆ˜ì— ëŒ€í•œ íŒ¨ë„í‹°
    presence_penalty=0 # í† í° ì¬ì‚¬ìš©ì— ëŒ€í•œ íŒ¨ë„í‹°
)

print(response.choices[0].message.content)

# ì €ì¥ í›„ CTRL+ALT+ENTERë¡œ ì‹¤í–‰
# ê²°ê³¼: -----------
ë”ìš´ ë‚ ì—ëŠ” ì‹œì›í•˜ê³  ê°€ë³ê²Œ ë¨¹ì„ ìˆ˜ ìˆëŠ” ìŒì‹ì´ ì¢‹ê² ì£ ! ì´ëŸ° ë©”ë‰´ë¥¼ ì¶”ì²œë“œë ¤ìš”:

1. **ëƒ‰ë©´** â€“ ì‹œì›í•œ ìœ¡ìˆ˜ì— ì«„ê¹ƒí•œ ë©´ë°œì´ ë”ìœ„ë¥¼ ì‹¹ ê°€ì…”ì¤„ ê±°ì˜ˆìš”.
2. **ì½©êµ­ìˆ˜** â€“ ê³ ì†Œí•˜ë©´ì„œë„ ì‹œì›í•´ì„œ ë¶€ë‹´ ì—†ì´ ì¦ê¸¸ ìˆ˜ ìˆì–´ìš”.
3. **ë¹„ë¹”êµ­ìˆ˜** â€“ ë§¤ì½¤ìƒˆì½¤í•˜ê²Œ ë¹„ë²¼ ë¨¹ìœ¼ë©´ ì…ë§›ë„ ëŒì•„ì™€ìš”.
4. **íšŒë®ë°¥** â€“ ì‹ ì„ í•œ ì•¼ì±„ì™€ í•´ì‚°ë¬¼ì´ ë“¤ì–´ê°€ ê¹”ë”í•˜ê³  ì‹œì›í•˜ê²Œ ì¦ê¸¸ ìˆ˜ ìˆìŠµë‹ˆë‹¤.
5. **ìƒëŸ¬ë“œì™€ ìƒŒë“œìœ„ì¹˜** â€“ ê°€ë³ê³  ì†Œí™”ë„ ì˜ë¼ì„œ ì¢‹ë‹µë‹ˆë‹¤.

ìŒë£Œë¡œëŠ” ì•„ì´ìŠ¤ì»¤í”¼, ì‹œì›í•œ ì‹í˜œ, ì–¼ìŒ ë™ë™ ë„ìš´ ì˜¤ë¯¸ìì°¨ë„ ì¶”ì²œë“œë ¤ìš”!  
ì˜¤ëŠ˜ ì ì‹¬ ë§›ìˆê²Œ ë“œì‹œê³ , ë”ìœ„ë„ ì˜ ì´ê²¨ë‚´ì‹œê¸¸ ë°”ë„ê²Œìš”ğŸ˜Š
# -----------


# íŒ¨í„´ 1: í˜ë¥´ì†Œë‚˜ & Few-Shot(ê¸°ì‚¬ ì œëª© êµì •)
## ê¸°ìë“¤ì´ ì†¡ê³ í•œ ì œëª©ì—ì„œ ë§ì¶¤ë²•, ì˜ë¯¸, ì–´ì¡° ë“±ì˜ êµì •ì‘ì—…ì„ ìˆ˜í–‰í•œë‹¤.
## (í”„ë‘ìŠ¤ AFPì‹œìŠ¤í…œì—ì„œ ìµœì´ˆ ì ìš©)

from openai import OpenAI

# ì´ë²ˆì—ëŠ” í•¨ìˆ˜í˜•íƒœë¡œ ë³€ê²½í•´ ì¬ì‚¬ìš©ì„±ì„ ë†’ì¸ë‹¤.
def correct_title (query, temperature=0.3):
    # 1. client ì„¤ì •
    client=OpenAI(api_key=OPENAI_API_KEY)

    #2. system promptë¥¼ ë³€ìˆ˜ì— í• ë‹¹
    #(ë“¤ì–´ê°€ëŠ” ë‚´ìš©: í˜ë¥´ì†Œë‚˜, ì§€ì¼œì•¼ í•  ê·œì¹™, Few-Shotì˜ˆì‹œ)
    # ìƒµ 3ê°œëŠ” êµ³ì´ ì•ˆ ë„£ì–´ë„ ë˜ì§€ë§Œ ê° promptì˜ êµ¬ë¶„ì„ ìœ„í•´ ë„£ì–´ì£¼ì—ˆë‹¤.
    system_instruction = """
    ê¸°ìë“¤ì´ ì†¡ê³ í•œ ì œëª©, ì¦‰ í˜„ì¬ì˜ ê¸°ì‚¬ ì œëª©ì„ êµì •í•´ì¤˜.
    
    ### ì§€ì‹œì‚¬í•­ ###
    - ê¸°ì‚¬ì˜ ì œëª©ì´ ëª…í™•í•˜ê³  ì£¼ì œì™€ ì˜ ë§ë„ë¡ ìˆ˜ì •í•´ì£¼ì„¸ìš”.
    - ë…ìì˜ ê´€ì‹¬ì„ ëŒ ìˆ˜ ìˆë„ë¡ ê°„ê²°í•˜ê³  ì„íŒ©íŠ¸ìˆëŠ” í‘œí˜„ì„ ì‚¬ìš©í•´ì£¼ì„¸ìš”.
    - ë¹„ì†ì–´, ì€ì–´ ë“±ì€ ì œê±°í•˜ê³ , ì˜ë¯¸ê°€ ìœ ì§€ë˜ë„ë¡ ì œëª©ì„ êµì •í•´ì£¼ì„¸ìš”.

    ### ì¶œë ¥ í˜•ì‹ ###
    - ì›ë˜ ì œëª©: [ê¸°ì‚¬ì˜ ì›ë˜ ì œëª©]
    - êµì •í•œ ì œëª©: [ê¸°ì‚¬ì˜ êµì •ëœ ì œëª©]

    ### ì˜ˆì‹œ ###
    - ì›ë˜ ì œëª©: "ì–´ì œ íƒœêµ­ì—ì„œ ì´ê²© ì‚¬ê±´ì´ ì¼ì–´ë‚˜ì„œ ì‹œì¥ì— ìˆë˜ ìˆ˜ë§ì€ ì‚¬ëŒë“¤ì´ ëŒ€í”¼í–ˆë‹¤."
    - êµì •í•œ ì œëª©: "íƒœêµ­ ì‹œì¥ ì´ê²© ì‚¬ê±´, ìˆ˜ì‹­ëª… ëŒ€í”¼"

    """

    user_msg = f"""
    ë‹¤ìŒ ì œëª©ì„ êµì •í•´ì£¼ì„¸ìš”.
    ì œëª©: {query}
    """

    #def correct_title ì•ˆì— responseê°€ ë“¤ì–´ê°ˆ ìˆ˜ ìˆë„ë¡ ë“¤ì—¬ì“°ê¸° í•œ ì¹¸ ë” ë„£ìŒ
    response = client.chat.completions.create(
        model="gpt-4.1",
        messages=[ 
            #ëŒ€í™”ì˜ íˆìŠ¤í† ë¦¬ë¥¼ ë¦¬ìŠ¤íŠ¸ í˜•íƒœë¡œ ì „ë‹¬. ê° ìš”ì†ŒëŠ” roleê³¼ contentë¥¼ ê°€ì§„ ë”•ì…”ë„ˆë¦¬ì´ë‹¤.
            {
                "role": "system", # ì‹œìŠ¤í…œì˜ ì „ë°˜ì ì¸ ì§€ì‹œì‚¬í•­ ì „ë‹¬. ëŒ€í™”ì˜ ê°€ì¥ ì²˜ìŒì— ìœ„ì¹˜í•´ ëª¨ë¸ì˜ í–‰ë™ ê¸°ì¤€ì„ ì„¤ì •í•¨
                "content": [
                    {
                        # íƒ€ì…ê³¼ í…ìŠ¤íŠ¸(ì—­í• )ë¥¼ ë‹¤ ì „ë‹¬í•´ì•¼í•¨
                        "type": "text",
                        "text": system_instruction
                    }
                ]
            },
            {
                "role": "user",  # ì‚¬ìš©ìì˜ ì‹¤ì œ ìš”ì²­ ì „ë‹¬
                "content": [
                    {
                        "type": "text",
                        "text": user_msg
                    }
                ]
            }
        ],
        response_format={
            'type': "text"
        },
        temperature=temperature, # ëŒ€ë‹µ ì°½ì˜ì„±ì— ê´€í•œ ì„¤ì •(ê¸°ë³¸ê°’: 1), 0~2ê¹Œì§€ ì„¤ì • ê°€ëŠ¥
        max_tokens=2048, # ì‘ë‹µì— ì‚¬ìš©ë  í† í° ìˆ˜(ì‘ë‹µ ìµœëŒ€í† í°ìˆ˜)
        top_p=1, # ì‚¬ìš©í•  ìƒìœ„ëˆ„ì í™•ë¥ 
        frequency_penalty=0, # í† í° ì‚¬ìš© ë¹ˆë„ìˆ˜ì— ëŒ€í•œ íŒ¨ë„í‹°
        presence_penalty=0 # í† í° ì¬ì‚¬ìš©ì— ëŒ€í•œ íŒ¨ë„í‹°
    )
    return response.choices[0].message.content

print(correct_title('ì´ì€ì§€ì˜ FM ê°œê¿€ ë¼ë””ì˜¤ ë°©ì†¡ì— ì£¼ëª©í•´ì£¼ì„¸ìš”~!'))
print(correct_title('ë¯¸ì¹œ ë¬¼ë‚œë¦¬ë¡œ ì¡¸ë¼ ê³ ìƒí•˜ëŠ” í•œêµ­ ê³µë¬´ì›ë“¤ì—ê²Œ ë³´ìƒì´ ì´ë¤„ì ¸ì•¼í•œë‹¤.')) # êµì •ì´ ì œëŒ€ë¡œ ë˜ëŠ”ì§€ í™•ì¸ ìœ„í•´ ì¼ë¶€ëŸ¬ ë¹„ì†ì–´ì™€ ì€ì–´ë¥¼ ë„£ìŒ.

# ê²°ê³¼: ----------
- ì›ë˜ ì œëª©: ì´ì€ì§€ì˜ FM ê°œê¿€ ë¼ë””ì˜¤ ë°©ì†¡ì— ì£¼ëª©í•´ì£¼ì„¸ìš”~!
- êµì •í•œ ì œëª©: ì´ì€ì§€ì˜ FM ë¼ë””ì˜¤, ì²­ì·¨ì ê´€ì‹¬ ì§‘ì¤‘
- ì›ë˜ ì œëª©: ë¯¸ì¹œ ë¬¼ë‚œë¦¬ë¡œ ì¡¸ë¼ ê³ ìƒí•˜ëŠ” í•œêµ­ ê³µë¬´ì›ë“¤ì—ê²Œ ë³´ìƒì´ ì´ë¤„ì ¸ì•¼í•œë‹¤.
- êµì •í•œ ì œëª©: í­ìš° í”¼í•´ ëŒ€ì‘í•œ í•œêµ­ ê³µë¬´ì›, í•©ë‹¹í•œ ë³´ìƒ í•„ìš”
# ----------------


# ë‹¤ìŒê³¼ ê°™ì´ system instuctionì„ ë°”ê¾¸ë©´ ë˜ ë‹¤ë¥¸ ë‹µë³€ì´ ì¶œë ¥ëœë‹¤.
system_instruction = """
    ê¸°ìë“¤ì´ ì†¡ê³ í•œ ì œëª©, ì¦‰ í˜„ì¬ì˜ ê¸°ì‚¬ ì œëª©ì„ êµì •í•´ì¤˜.
    
    ### ì§€ì‹œì‚¬í•­ ###
    - ê¸°ì‚¬ì˜ ì œëª©ì´ ëª…í™•í•˜ê³  ì£¼ì œì™€ ì˜ ë§ë„ë¡ ìˆ˜ì •í•´ì£¼ì„¸ìš”.
    - ë…ìì˜ ê´€ì‹¬ì„ ëŒ ìˆ˜ ìˆë„ë¡ ê°„ê²°í•˜ê³  ì„íŒ©íŠ¸ìˆëŠ” í‘œí˜„ì„ ì‚¬ìš©í•´ì£¼ì„¸ìš”.
    - ë¹„ì†ì–´, ì€ì–´ ë“±ì€ ì œê±°í•˜ê³ , ì˜ë¯¸ê°€ ìœ ì§€ë˜ë„ë¡ ì œëª©ì„ êµì •í•´ì£¼ì„¸ìš”.

    ### ì¶œë ¥ í˜•ì‹ ###
    - ì›ë˜ ì œëª©: [ê¸°ì‚¬ì˜ ì›ë˜ ì œëª©]
    - êµì •í•œ ì œëª©: 
        [ê¸°ì‚¬ì˜ êµì •ëœ ì œëª©1]
        [ê¸°ì‚¬ì˜ êµì •ëœ ì œëª©2]
        [ê¸°ì‚¬ì˜ êµì •ëœ ì œëª©3]

    ### ì˜ˆì‹œ ###
    - ì›ë˜ ì œëª©: "ì–´ì œ íƒœêµ­ì—ì„œ ì´ê²© ì‚¬ê±´ì´ ì¼ì–´ë‚˜ì„œ ì‹œì¥ì— ìˆë˜ ìˆ˜ë§ì€ ì‚¬ëŒë“¤ì´ ëŒ€í”¼í–ˆë‹¤."
    - êµì •í•œ ì œëª©: 
        "íƒœêµ­ ì‹œì¥ ì´ê²© ì‚¬ê±´, ìˆ˜ì‹­ëª… ëŒ€í”¼"
        "íƒœêµ­ ì‹œì¥ ì´ê²© ì‚¬ê±´, ì¶©ê²©"
        "íƒœêµ­ì—ì„œ ì¶©ê²©ì ì¸ ì´ê²© ì‚¬ê±´ ë°œìƒ"

    """

# ê²°ê³¼: ----------
- ì›ë˜ ì œëª©: ì´ì€ì§€ì˜ FM ê°œê¿€ ë¼ë””ì˜¤ ë°©ì†¡ì— ì£¼ëª©í•´ì£¼ì„¸ìš”~!
- êµì •í•œ ì œëª©: 
    "ì´ì€ì§€ì˜ FM ë¼ë””ì˜¤, ì²­ì·¨ì ê´€ì‹¬ ì§‘ì¤‘"
    "ì´ì€ì§€, ìƒˆ FM ë¼ë””ì˜¤ ë°©ì†¡ìœ¼ë¡œ ì£¼ëª©"
    "ì´ì€ì§€ì˜ FM ë¼ë””ì˜¤, ê¸°ëŒ€ê° ë†’ì•„ì ¸"
- ì›ë˜ ì œëª©: ë¯¸ì¹œ ë¬¼ë‚œë¦¬ë¡œ ì¡¸ë¼ ê³ ìƒí•˜ëŠ” í•œêµ­ ê³µë¬´ì›ë“¤ì—ê²Œ ë³´ìƒì´ ì´ë¤„ì ¸ì•¼í•œë‹¤.
- êµì •í•œ ì œëª©: 
    "í­ìš° í”¼í•´ ëŒ€ì‘í•œ í•œêµ­ ê³µë¬´ì›, ì •ë‹¹í•œ ë³´ìƒ í•„ìš”"
    "í­ìš° ì† í—Œì‹ í•œ ê³µë¬´ì›ë“¤, ë³´ìƒ ëŒ€ì±… ë§ˆë ¨ ì‹œê¸‰"
    "ë¬¼ë‚œë¦¬ ëŒ€ì‘ ê³µë¬´ì›, í•©ë‹¹í•œ ë³´ìƒ ì´ë¤„ì ¸ì•¼"
# ---------------

from openai import OpenAI
import json

# í•¨ìˆ˜ ì„ ì–¸í˜•ìœ¼ë¡œ ì¬ì‚¬ìš©ì„± ë†’ì¸ ì½”ë“œ ì‘ì„±
def extract_eng_words(query, temperature=0.5):
    client = OpenAI(api_key=OPENAI_API_KEY)

    system_instruction="""
    ë‹¹ì‹ ì€ ì˜ì–´íŒì†¡ì„ ì´ìš©í•´ í¥ë¯¸ë¡­ê³  ì´í•´í•˜ê¸° ì‰¬ìš´ ë°©ì‹ìœ¼ë¡œ ì˜ì–´ë¥¼ ê°€ë¥´ì¹˜ëŠ” ì„ ìƒë‹˜ì…ë‹ˆë‹¤.

    # ì²˜ë¦¬ë‹¨ê³„
    1. ì£¼ì–´ì§„ íŒì†¡ ê°€ì‚¬ì—ì„œ ìì£¼ ì‚¬ìš©ë˜ëŠ” ì˜ì–´ë‹¨ì–´ 3ê°œë¥¼ ë¬´ì‘ìœ„ë¡œ ì¶”ì¶œí•´ì¤˜.
    2. ê° ë‹¨ì–´ì˜ í’ˆì‚¬ì™€ ì˜ë¯¸ë¥¼ í•œê¸€ë¡œ ì•Œë ¤ì¤˜.
    
    # ì¶œë ¥í˜•ì‹
    - ì¶œë ¥í˜•ì‹ì€ json í˜•ì‹ì…ë‹ˆë‹¤.

    # ì¶œë ¥ì˜ˆì‹œ
    {
        "json_list": [
            {
                "ë¹ˆì¶œ ë‹¨ì–´ 3ê°€ì§€" : "yesterday", "love", "you"               
            },
            {
                "ë‹¨ì–´" : "yesterday"
                "í’ˆì‚¬ì™€ ì˜ë¯¸" : "ëª…ì‚¬ - ì–´ì œ" 
            },
            {
                 "ë‹¨ì–´" : "love"
                "í’ˆì‚¬ì™€ ì˜ë¯¸" : "ëª…ì‚¬ í˜¹ì€ ë™ì‚¬ - ì‚¬ë‘, ì‚¬ë‘í•˜ë‹¤" 
            },
            {
                 "ë‹¨ì–´" : "you"
                "í’ˆì‚¬ì™€ ì˜ë¯¸" : "ëª…ì‚¬ - ë„ˆ, ë‹¹ì‹ " 
            }
        ]
    }
    """

    user_msg = f"""
    ë…¸ë˜ ê°€ì‚¬: {query}
    """

    #def correct_title ì•ˆì— responseê°€ ë“¤ì–´ê°ˆ ìˆ˜ ìˆë„ë¡ ë“¤ì—¬ì“°ê¸° í•œ ì¹¸ ë” ë„£ìŒ
    response = client.chat.completions.create(
        model="gpt-4.1",
        messages=[ 
            #ëŒ€í™”ì˜ íˆìŠ¤í† ë¦¬ë¥¼ ë¦¬ìŠ¤íŠ¸ í˜•íƒœë¡œ ì „ë‹¬. ê° ìš”ì†ŒëŠ” roleê³¼ contentë¥¼ ê°€ì§„ ë”•ì…”ë„ˆë¦¬ì´ë‹¤.
            {
                "role": "system", # ì‹œìŠ¤í…œì˜ ì „ë°˜ì ì¸ ì§€ì‹œì‚¬í•­ ì „ë‹¬. ëŒ€í™”ì˜ ê°€ì¥ ì²˜ìŒì— ìœ„ì¹˜í•´ ëª¨ë¸ì˜ í–‰ë™ ê¸°ì¤€ì„ ì„¤ì •í•¨
                "content": [
                    {
                        # íƒ€ì…ê³¼ í…ìŠ¤íŠ¸(ì—­í• )ë¥¼ ë‹¤ ì „ë‹¬í•´ì•¼í•¨
                        "type": "text",
                        "text": system_instruction
                    }
                ]
            },
            {
                "role": "user",  # ì‚¬ìš©ìì˜ ì‹¤ì œ ìš”ì²­ ì „ë‹¬
                "content": [
                    {
                        "type": "text",
                        "text": user_msg
                    }
                ]
            }
        ],
        response_format={
            #ì´ë²ˆì—ëŠ” text í˜•íƒœë¡œ ë°›ëŠ” ê²Œ ì•„ë‹ˆë¼ json í˜•íƒœë¡œ ë°›ê¸° ë•Œë¬¸ì— "text"ì—ì„œ ìˆ˜ì • í•„ìš”
            # ì‘ë‹µì˜ contentëŠ” ë°˜ë“œì‹œ JSON ê°ì²´ í˜•ì‹ì˜ ë¬¸ìì—´ì´ì–´ì•¼í•œë‹¤ê³  ëª…ì‹œì ìœ¼ë¡œ ìš”êµ¬
            'type': "json_object"
        },
        temperature=temperature, # ëŒ€ë‹µ ì°½ì˜ì„±ì— ê´€í•œ ì„¤ì •(ê¸°ë³¸ê°’: 1), 0~2ê¹Œì§€ ì„¤ì • ê°€ëŠ¥
        max_tokens=2048, # ì‘ë‹µì— ì‚¬ìš©ë  í† í° ìˆ˜(ì‘ë‹µ ìµœëŒ€í† í°ìˆ˜)
        top_p=1, # ì‚¬ìš©í•  ìƒìœ„ëˆ„ì í™•ë¥ 
        frequency_penalty=0, # í† í° ì‚¬ìš© ë¹ˆë„ìˆ˜ì— ëŒ€í•œ íŒ¨ë„í‹°
        presence_penalty=0 # í† í° ì¬ì‚¬ìš©ì— ëŒ€í•œ íŒ¨ë„í‹°
    )
    return json.loads(response.choices[0].message.content) # ì‘ë‹µ json ë¬¸ìì—´ì„ íŒŒì´ì¬ ê°ì²´ë¡œ ë³€í™˜

lyrics = """
No clouds in my stones
Let it rain, I hydroplane in the bank
Comin' down with the Dow Jones
When the clouds come, we go, we Roc-A-Fella 
We fly higher than weather, in G5's or better
You know me (You know me)
In anticipation for precipitation, stack chips for the rainy day
Jay, Rain Man is back
With Little Miss Sunshine, Rihanna, where you at?

You have my heart, and we'll never be worlds apart
May be in magazines but you'll still be my star
Baby, 'cause in the dark, you can't see shiny cars
And that's when you need me there
With you, I'll always share because

When the sun shine, we shine together
Told you I'll be here forever
Said "I'll always be your friend"
Took an oath, I'ma stick it out 'til the end
Now that it's rainin' more than ever
Know that we'll still have each other
You can stand under my umbrella
"""

print(extract_eng_words(lyrics))

# ê²°ê³¼: ----------
{'json_list': [{'ë¹ˆì¶œ ë‹¨ì–´ 3ê°€ì§€': ['rain', 'shine', 'together']}, {'ë‹¨ì–´': 'rain', 'í’ˆì‚¬ì™€ ì˜ë¯¸': 'ëª…ì‚¬ í˜¹ì€ ë™ì‚¬ - ë¹„, ë¹„ê°€ ì˜¤ë‹¤'}, {'ë‹¨ì–´': 'shine', 'í’ˆì‚¬ì™€ ì˜ë¯¸': 'ë™ì‚¬ - ë¹›ë‚˜ë‹¤, ë¹›ì„ ë‚´ë‹¤'}, {'ë‹¨ì–´': 'together', 'í’ˆì‚¬ì™€ ì˜ë¯¸': 'ë¶€ì‚¬ - í•¨ê»˜, ê°™ì´'}]}
# ---------------


# system_instruction ë³€ê²½
# í•¨ìˆ˜ ì„ ì–¸í˜•ìœ¼ë¡œ ì¬ì‚¬ìš©ì„± ë†’ì¸ ì½”ë“œ ì‘ì„±
def extract_eng_words(query, temperature=0.5):
    client = OpenAI(api_key=OPENAI_API_KEY)

    system_instruction="""
    ë‹¹ì‹ ì€ ì˜ì–´íŒì†¡ì„ ì´ìš©í•´ í¥ë¯¸ë¡­ê³  ì´í•´í•˜ê¸° ì‰¬ìš´ ë°©ì‹ìœ¼ë¡œ ì˜ì–´ë¥¼ ê°€ë¥´ì¹˜ëŠ” ì„ ìƒë‹˜ì…ë‹ˆë‹¤.

    # ì²˜ë¦¬ë‹¨ê³„
    1. ì£¼ì–´ì§„ íŒì†¡ ê°€ì‚¬ì—ì„œ ìì£¼ ì‚¬ìš©ë˜ëŠ” ì˜ì–´ë‹¨ì–´ 3ê°œë¥¼ ë¬´ì‘ìœ„ë¡œ ì¶”ì¶œí•´ì¤˜.
    2. ê° ë‹¨ì–´ì˜ í’ˆì‚¬ì™€ ì˜ë¯¸ë¥¼ í•œê¸€ë¡œ ì•Œë ¤ì¤˜.
    3. ê° ë‹¨ì–´ì˜ ìœ ì˜ì–´ë„ ë‹¨ì–´ í•˜ë‚˜ë‹¹ ìœ ì˜ì–´ í•˜ë‚˜ì”© ì•Œë ¤ì¤˜.
    4. ìœ ì˜ì–´ì— ëŒ€í•œ ì˜ˆì‹œë¬¸ì¥ì€ ìœ ì˜ì–´ í•˜ë‚˜ ë‹¹ 2ê°œì”© ì‘ì„±í•´ì¤˜.
    
    # ì¶œë ¥í˜•ì‹
    - ì¶œë ¥í˜•ì‹ì€ json í˜•ì‹ì…ë‹ˆë‹¤.

    # ì¶œë ¥ì˜ˆì‹œ
    {
        "json_list": [
            {
                "ë¹ˆì¶œ ë‹¨ì–´ 3ê°€ì§€" : "yesterday", "love", "you"               
            },
            {
                "ë‹¨ì–´" : "yesterday"
                "í’ˆì‚¬ì™€ ì˜ë¯¸" : "ëª…ì‚¬ - ì–´ì œ" 
                "ìœ ì˜ì–´": [
                    {
                        "ìœ ì˜ì–´1": "last-night",
                        "ì˜ˆì‹œë¬¸ì¥": ["Last-night, Sarah was gone", "It was fun last night"]
                    }
                ]
            },
            {
                "ë‹¨ì–´" : "love"
                "í’ˆì‚¬ì™€ ì˜ë¯¸" : "ëª…ì‚¬ í˜¹ì€ ë™ì‚¬ - ì‚¬ë‘, ì‚¬ë‘í•˜ë‹¤" 
                 "ìœ ì˜ì–´": [
                    {
                        "ìœ ì˜ì–´1": "adore",
                        "ì˜ˆì‹œë¬¸ì¥": ["Jane adores her daughter", "Since they loved each other, they named their son 'adore'"]
                    }
                ]
            },
            {
                "ë‹¨ì–´" : "you"
                "í’ˆì‚¬ì™€ ì˜ë¯¸" : "ëª…ì‚¬ - ë„ˆ, ë‹¹ì‹ " 
                 "ìœ ì˜ì–´": [
                    {
                        "ìœ ì˜ì–´1": "deer",
                        "ì˜ˆì‹œë¬¸ì¥": ["deer Mr.simple. Where have you been?", "my deer, my!"]
                    }
                ]
            }
        ]
    }
    """

# ê²°ê³¼: ----------
{'json_list': [{'ë¹ˆì¶œ ë‹¨ì–´ 3ê°€ì§€': ['rain', 'shine', 'together']}, {'ë‹¨ì–´': 'rain', 'í’ˆì‚¬ì™€ ì˜ë¯¸': 'ëª…ì‚¬, ë™ì‚¬ - ë¹„, ë¹„ê°€ ì˜¤ë‹¤', 'ìœ ì˜ì–´': [{'ìœ ì˜ì–´1': 'drizzle', 'ì˜ˆì‹œë¬¸ì¥': ['It started to drizzle on our way home.', 'The drizzle made the streets wet and shiny.']}]}, {'ë‹¨ì–´': 'shine', 'í’ˆì‚¬ì™€ ì˜ë¯¸': 'ë™ì‚¬ - ë¹›ë‚˜ë‹¤, ë¹›ì„ ë‚´ë‹¤', 'ìœ ì˜ì–´': [{'ìœ ì˜ì–´1': 'glow', 'ì˜ˆì‹œë¬¸ì¥': ['The stars glow brightly in the night sky.', 'Her face began to glow with happiness.']}]}, {'ë‹¨ì–´': 'together', 'í’ˆì‚¬ì™€ ì˜ë¯¸': 'ë¶€ì‚¬ - í•¨ê»˜, ê°™ì´', 'ìœ ì˜ì–´': [{'ìœ ì˜ì–´1': 'jointly', 'ì˜ˆì‹œë¬¸ì¥': ['They worked jointly on the project.', 'The two companies announced the plan jointly.']}]}]}
# ---------------


# ì¶œë ¥ í˜•íƒœ ë³€ê²½
result = extract_eng_words(lyrics)
words = result['json_list']

# wordsë¼ëŠ” ë¦¬ìŠ¤íŠ¸ë¥¼ ë§Œë“¤ê³  ê·¸ê±¸ forë¬¸ìœ¼ë¡œ ëŒë¦¬ë©´ì„œ
# ì˜ì–´ ì‚¬ì „ í˜•íƒœë¡œ ê° ìš”ì†Œë¥¼ ì¶œë ¥
for word_dict in words:
    print(f'ë‹¨ì–´: {word_dict["ë‹¨ì–´"]}')
    print(f'ì˜ë¯¸: {word_dict["ì˜ë¯¸"]}')

    for sim_word_obj in word_dict['ìœ ì˜ì–´']:
        print(f'ìœ ì‚¬ì–´: {sim_word_obj['ìœ ì˜ì–´1']}')

        for sentence in sim_word_obj['ì˜ˆì‹œë¬¸ì¥']:
            print(f'ì˜ˆì œ: {sentence}')

# ê²°ê³¼: ----------
KeyError                                  Traceback (most recent call last)
Cell In[18], line 134
    131 # wordsë¼ëŠ” ë¦¬ìŠ¤íŠ¸ë¥¼ ë§Œë“¤ê³  ê·¸ê±¸ forë¬¸ìœ¼ë¡œ ëŒë¦¬ë©´ì„œ
    132 # ì˜ì–´ ì‚¬ì „ í˜•íƒœë¡œ ê° ìš”ì†Œë¥¼ ì¶œë ¥
    133 for word_dict in words:
--> 134     print(f'ë‹¨ì–´: {word_dict["ë‹¨ì–´"]}')
    135     print(f'ì˜ë¯¸: {word_dict["ì˜ë¯¸"]}')
    137     for sim_word_obj in word_dict['ìœ ì˜ì–´']:

KeyError: 'ë‹¨ì–´'
# ---------------
# ì™œ ì´ëŸ° ì˜¤ë¥˜ê°€?? ê°•ì˜ì½”ë“œì™€ ë‹¬ë¦¬ ë‚´ system structureì˜ êµ¬ì¡°ëŠ” 
{ 
    "ë¹ˆì¶œ ë‹¨ì–´ 3ê°€ì§€" : "yesterday", "love", "you"               
},
ê°€ ìƒë‹¨ì— ìˆì–´ì„œ êµ¬ì¡°ë¥¼ íŒŒì•… í›„, ë‹¤ë¥¸ ì½”ë“œë¥¼ ì‚¬ìš©í•´ì•¼ í–ˆìŒ.

# 1ì°¨ ìˆ˜ì •
for word_dict in words:
    print(f'ë¹ˆì¶œ 3ë‹¨ì–´: {word_dict['ë¹ˆì¶œ ë‹¨ì–´ 3ê°€ì§€']}')

    for word_meaning in word_dict.get('ë‹¨ì–´ ëª©ë¡', []):
        print(f'ë‹¨ì–´: {word_meaning["ë‹¨ì–´"]}')
        print(f'ì˜ë¯¸: {word_meaning["ì˜ë¯¸"]}')

        for sim_word_obj in word_meaning['ìœ ì˜ì–´']:
            print(f'ìœ ì‚¬ì–´: {sim_word_obj['ìœ ì˜ì–´1']}')

            for sentence in sim_word_obj['ì˜ˆì‹œë¬¸ì¥']:
                print(f'ì˜ˆì œ: {sentence}')

# ê²°ê³¼: 
ë¹ˆì¶œ 3ë‹¨ì–´: ['rain', 'shine', 'together']
---------------------------------------------------------------------------
KeyError                                  Traceback (most recent call last)
Cell In[24], line 134
    131 # wordsë¼ëŠ” ë¦¬ìŠ¤íŠ¸ë¥¼ ë§Œë“¤ê³  ê·¸ê±¸ forë¬¸ìœ¼ë¡œ ëŒë¦¬ë©´ì„œ
    132 # ì˜ì–´ ì‚¬ì „ í˜•íƒœë¡œ ê° ìš”ì†Œë¥¼ ì¶œë ¥
    133 for word_dict in words:
--> 134     print(f'ë¹ˆì¶œ 3ë‹¨ì–´: {word_dict['ë¹ˆì¶œ ë‹¨ì–´ 3ê°€ì§€']}')
    136     for word_meaning in word_dict.get('ë‹¨ì–´ ëª©ë¡', []):
    137         print(f'ë‹¨ì–´: {word_meaning["ë‹¨ì–´"]}')

KeyError: 'ë¹ˆì¶œ ë‹¨ì–´ 3ê°€ì§€'
# ------

# Geminiì—ê²Œ ì§ˆë¬¸: https://g.co/gemini/share/6afe1a1adb88

# ìˆ˜ì •
if words and "ë¹ˆì¶œ ë‹¨ì–´ 3ê°€ì§€" in words[0]:
    frequent_words = words[0]['ë¹ˆì¶œ ë‹¨ì–´ 3ê°€ì§€']
    if isinstance(frequent_words, list):
        print(f"ë¹ˆì¶œ 3ë‹¨ì–´: {', '.join(frequent_words)}")
    else: # If it's a single string like "yesterday", "love", "you"
        print(f"ë¹ˆì¶œ 3ë‹¨ì–´: {frequent_words}")

for word_entry in words[1:]: # Start from the second item in the list
    if "ë‹¨ì–´" in word_entry: # Check if it's a word entry
        print(f'ë‹¨ì–´: {word_entry["ë‹¨ì–´"]}')
        # Using .get() for safety
        print(f'ì˜ë¯¸: {word_entry.get("í’ˆì‚¬ì™€ ì˜ë¯¸", "ì˜ë¯¸ ì—†ìŒ")}')

        if "ìœ ì˜ì–´" in word_entry and isinstance(word_entry["ìœ ì˜ì–´"], list):
            for sim_word_obj in word_entry['ìœ ì˜ì–´']:
                if "ìœ ì˜ì–´1" in sim_word_obj:
                    print(f'ìœ ì‚¬ì–´: {sim_word_obj['ìœ ì˜ì–´1']}')

                if "ì˜ˆì‹œë¬¸ì¥" in sim_word_obj and isinstance(sim_word_obj["ì˜ˆì‹œë¬¸ì¥"], list):
                    for sentence in sim_word_obj['ì˜ˆì‹œë¬¸ì¥']:
                        print(f'ì˜ˆì œ: {sentence}')

# ê²°ê³¼: -----------
ë¹ˆì¶œ 3ë‹¨ì–´: rain, shine, together
ë‹¨ì–´: rain
ì˜ë¯¸: ëª…ì‚¬/ë™ì‚¬ - ë¹„, ë¹„ê°€ ì˜¤ë‹¤
ìœ ì‚¬ì–´: drizzle
ì˜ˆì œ: It started to drizzle on our way home.
ì˜ˆì œ: I love walking outside when there's a light drizzle.
ë‹¨ì–´: shine
ì˜ë¯¸: ë™ì‚¬ - ë¹›ë‚˜ë‹¤, ë¹›ì„ ë‚´ë‹¤
ìœ ì‚¬ì–´: glow
ì˜ˆì œ: The stars glow brightly at night.
ì˜ˆì œ: Her face seemed to glow with happiness.
ë‹¨ì–´: together
ì˜ë¯¸: ë¶€ì‚¬ - í•¨ê»˜, ê°™ì´
ìœ ì‚¬ì–´: jointly
ì˜ˆì œ: They worked jointly on the project.
ì˜ˆì œ: The decision was made jointly by both teams.
# -----------------



# ìƒê°ì˜ ì‚¬ìŠ¬ Chain-of-Thought (ëƒ‰í„¸ ë§ˆìŠ¤íƒ€ - ReAct)
# * Reason + Act ê¸°ë²•ìœ¼ë¡œ í˜„ì¬ ìƒí™©ì— ëŒ€í•œ í†µì°° ì´í›„, ë‹¤ìŒ í–‰ë™ì— ëŒ€í•œ ì‘ì„±ì„ ìœ ë„í•˜ëŠ” ê¸°ë²•ì´ë‹¤.

from openai import OpenAI
import json

def finish_my_refregator(query, temperature=1.0):
    client = OpenAI(api_key=OPENAI_API_KEY)

    system_instruction="""
    ë„ˆëŠ” ëƒ‰ì¥ê³ ì— ë‚¨ì•„ìˆëŠ” ì¬ë£Œë¥¼ í™œìš©í•´ ì°½ì˜ì ì´ê³ , ì‹¤ìš©ì ì¸ ì €ë… ì‹ì‚¬ ì•„ì´ë””ì–´ë¥¼ ì œì•ˆí•˜ëŠ” ìš”ë¦¬ ì „ë¬¸ê°€ë‹¤.
    ë„¤ ì—­í• ì€ ì‚¬ìš©ìë¡œë¶€í„° ì œê³µë°›ì€ ì¬ë£Œëª©ë¡ì„ ë¶„ì„í•˜ê³ , ì´ë¥¼ í™œìš©í•  ìˆ˜ ìˆëŠ” ìš”ë¦¬ ì•„ì´ë””ì–´ë¥¼ êµ¬ìƒí•´ì„œ,
    ì¡°ë¦¬ë°©ë²•ì„ ë‹¨ê³„ë³„ë¡œ ìƒì„¸íˆ ì„¤ëª…í•˜ëŠ” ê²ƒì´ë‹¤. ì´ ë•Œ ìš”ë¦¬ì˜ ì´ë¦„ì€ ì‹¤ì œë¡œ ìˆëŠ” ìŒì‹ ì´ë¦„ì„ ì¶œë ¥í•©ë‹ˆë‹¤.
    (ì˜ˆì‹œ: ë§ˆë¼ ë‹­ê³ ê¸° ë‹¹ë©´ë³¶ìŒ ëŒ€ì‹  ë‹­ê³ ê¸° ë§ˆë¼ìƒ¹ê¶ˆë¡œ ì¶œë ¥)
    ë§Œì•½ ìµœì¢… ìš”ë¦¬ì— í•„ìš”ì—†ê±°ë‚˜ ì“¸ ë°ê°€ ë§ˆë•…ì¹˜ ì•Šì€ ì¬ë£ŒëŠ” ë¬´ì‹œí•˜ê³  ê°€ì¥ ë§ˆì§€ë§‰ì— 'ëƒ‰ì¥ê³ ì— [ë‚¨ì€ ì¬ë£Œ]ê°€ ì•„ì§ ë‚¨ì•„ìˆìŠµë‹ˆë‹¤.'ë¼ê³  ì¶œë ¥í•©ë‹ˆë‹¤.

    # ì¶œë ¥ ì˜ˆì‹œ
    1. ìƒí™© ë¶„ì„ Reason
    - í˜„ì¬ ëƒ‰ì¥ê³ ì— ìˆëŠ” ì¬ë£ŒëŠ” [ì‚¬ìš©ìê°€ ì…ë ¥í•œ ì¬ë£Œ]ì…ë‹ˆë‹¤.
    - ì£¼ì¬ë£Œì¸ ë‹­ê³ ê¸°ì™€ ë‹¤ì–‘í•œ ì±„ì†Œë“¤ì´ ìˆëŠ” ê²ƒìœ¼ë¡œ íŒŒì•…ë©ë‹ˆë‹¤.
    - ì´ ì¬ë£Œë“¤ì€ ìŠ¤íŠœ, ë³¶ìŒ, ì°œìš”ë¦¬ì— ì í•©í•©ë‹ˆë‹¤.

    2. í–‰ë™ ê³„íš Reason/plan
    - ê°€ì¥ ì‰½ê²Œ ë§Œë“¤ ìˆ˜ ìˆëŠ” ìš”ë¦¬ë¡œ ë‹­ê³ ê¸° ìŠ¤íŠœë¥¼ ì œì•ˆí•©ë‹ˆë‹¤.
    - ê° ìš”ë¦¬ì— í•„ìš”í•œ ì¬ë£Œì™€ ì¡°ë¦¬ë„êµ¬ë¥¼ í™•ì¸í•©ë‹ˆë‹¤.
    - ë¶€ì¡±í•œ ì¬ë£Œê°€ ìˆë‹¤ë©´ ëŒ€ì²´ ê°€ëŠ¥í•œ ì˜µì…˜ì„ ì œì‹œí•©ë‹ˆë‹¤.
    - ì¡°ë¦¬ ê³¼ì •ì„ ë‹¨ê³„ë³„ë¡œ ìƒì„¸íˆ ì„¤ëª…í•©ë‹ˆë‹¤.
    - ë§›ì„ ë” í–¥ìƒì‹œí‚¤ê¸° ìœ„í•œ ê¿€íŒê³¼ ì£¼ì˜ì‚¬í•­ ë˜í•œ ì œê³µí•©ë‹ˆë‹¤.

    3. ì‹¤í–‰ Act
    - ì—¬ê¸°ì— ìƒì„¸ë ˆì‹œí”¼ë¥¼ ë‹¨ê³„ë³„ë¡œ ì‘ì„±í•©ë‹ˆë‹¤.
    """

    user_msg = f"""
    ì‚¬ìš©ìì˜ ëƒ‰ì¥ê³ ì—ëŠ” í˜„ì¬ {query}ê°€ ìˆìŠµë‹ˆë‹¤.
    """

    response = client.chat.completions.create(
        model="gpt-4.1",
        messages=[ 
            #ëŒ€í™”ì˜ íˆìŠ¤í† ë¦¬ë¥¼ ë¦¬ìŠ¤íŠ¸ í˜•íƒœë¡œ ì „ë‹¬. ê° ìš”ì†ŒëŠ” roleê³¼ contentë¥¼ ê°€ì§„ ë”•ì…”ë„ˆë¦¬ì´ë‹¤.
            {
                "role": "system", # ì‹œìŠ¤í…œì˜ ì „ë°˜ì ì¸ ì§€ì‹œì‚¬í•­ ì „ë‹¬. ëŒ€í™”ì˜ ê°€ì¥ ì²˜ìŒì— ìœ„ì¹˜í•´ ëª¨ë¸ì˜ í–‰ë™ ê¸°ì¤€ì„ ì„¤ì •í•¨
                "content": [
                    {
                        # íƒ€ì…ê³¼ í…ìŠ¤íŠ¸(ì—­í• )ë¥¼ ë‹¤ ì „ë‹¬í•´ì•¼í•¨
                        "type": "text",
                        "text": system_instruction
                    }
                ]
            },
            {
                "role": "user",  # ì‚¬ìš©ìì˜ ì‹¤ì œ ìš”ì²­ ì „ë‹¬
                "content": [
                    {
                        "type": "text",
                        "text": user_msg
                    }
                ]
            }
        ],
        response_format={
            'type': "text"
        },
        temperature=1.0, # ëŒ€ë‹µ ì°½ì˜ì„±ì— ê´€í•œ ì„¤ì •(ê¸°ë³¸ê°’: 1)
        max_tokens=2048, # ì‘ë‹µì— ì‚¬ìš©ë  í† í° ìˆ˜(ì‘ë‹µ ìµœëŒ€í† í°ìˆ˜)
        top_p=1, # ì‚¬ìš©í•  ìƒìœ„ëˆ„ì í™•ë¥ 
        frequency_penalty=0, # í† í° ì‚¬ìš© ë¹ˆë„ìˆ˜ì— ëŒ€í•œ íŒ¨ë„í‹°
        presence_penalty=0 # í† í° ì¬ì‚¬ìš©ì— ëŒ€í•œ íŒ¨ë„í‹°
    )
    return response.choices[0].message.content

print(finish_my_refregator("ë‹¹ê·¼, ë‹­ê³ ê¸°, ì•Œë°°ì¶”, ë‹¹ë©´, ë§ˆë¼ì†ŒìŠ¤, ë‚«ë˜"))

# ê²°ê³¼: ----------
1. ìƒí™© ë¶„ì„ Reason  
- í˜„ì¬ ëƒ‰ì¥ê³ ì— ìˆëŠ” ì¬ë£ŒëŠ” ë‹¹ê·¼, ë‹­ê³ ê¸°, ì•Œë°°ì¶”, ë‹¹ë©´, ë§ˆë¼ì†ŒìŠ¤, ë‚«ë˜ì…ë‹ˆë‹¤.  
- ì£¼ì¬ë£Œì¸ ë‹­ê³ ê¸°ì™€ í•¨ê»˜ ë‹¹ê·¼, ì•Œë°°ì¶” ë“± ì±„ì†Œë¥˜, ê·¸ë¦¬ê³  ë‹¹ë©´ì´ ìˆì–´ ì¤‘êµ­ì‹ ë³¶ìŒ ë˜ëŠ” ì „ê³¨ë¥˜ ìš”ë¦¬ì— ì í•©í•©ë‹ˆë‹¤.  
- ë§ˆë¼ì†ŒìŠ¤ê°€ ìˆìœ¼ë¯€ë¡œ ë§¤ì½¤í•˜ê³  ê°ì¹ ë§› ë‚˜ëŠ” â€˜ë‹­ê³ ê¸° ë§ˆë¼ìƒ¹ê¶ˆâ€™ë¥¼ ì¶”ì²œí•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.  
- ë‚«ë˜ëŠ” í–¥ê³¼ ì¡°ì§ìƒ ë‹¤ë¥¸ ìš”ë¦¬ì— ì˜ ì–´ìš¸ë¦¬ì§€ ì•Šìœ¼ë¯€ë¡œ ì´ë²ˆ ë©”ë‰´ì—ì„œëŠ” ì‚¬ìš©í•˜ì§€ ì•Šì„ ê³„íšì…ë‹ˆë‹¤.  

2. í–‰ë™ ê³„íš Reason/plan  
- ì‰½ê²Œ ë§Œë“¤ ìˆ˜ ìˆëŠ” ë‹­ê³ ê¸° ë§ˆë¼ìƒ¹ê¶ˆë¥¼ ì œì•ˆí•©ë‹ˆë‹¤.  
- í•„ìš”í•œ ì¬ë£Œ: ë‹­ê³ ê¸°, ë‹¹ê·¼, ì•Œë°°ì¶”, ë§ˆë¼ì†ŒìŠ¤, ë‹¹ë©´ (ëª¨ë‘ ëƒ‰ì¥ê³ ì— ìˆìŒ)  
- í•„ìš”í•œ ë„êµ¬: í”„ë¼ì´íŒ¬(ë˜ëŠ” ì›), ëƒ„ë¹„(ë‹¹ë©´ìš©), ì¹¼, ë„ë§ˆ, ì§‘ê²Œë‚˜ ì£¼ê±±  
- ì¡°ë¦¬ ê³¼ì •ì€ ë‹¹ë©´ì„ ë¶ˆë¦¬ê³ , ì•¼ì±„ì™€ ë‹­ê³ ê¸°ë¥¼ ë¨¹ê¸° ì¢‹ì€ í¬ê¸°ë¡œ ì†ì§ˆí•œ í›„ ë³¶ì•„ ë§ˆë¼ìƒ¹ê¶ˆë¥¼ ì™„ì„±í•©ë‹ˆë‹¤.  
- ë§Œì•½ êµ¬ìš´ ë•…ì½©, ëŒ€íŒŒ, ë§ˆëŠ˜, ê³ ìˆ˜ ë“±ì´ ìˆë‹¤ë©´ ë§ˆì§€ë§‰ì— ê³ë“¤ì´ë©´ ì¢‹ì§€ë§Œ ì—†ì–´ë„ ë¬´ë°©í•©ë‹ˆë‹¤.  
- ë§¤ìš´ë§› ì¡°ì ˆì€ ë§ˆë¼ì†ŒìŠ¤ ì–‘ìœ¼ë¡œ ìœ ì—°í•˜ê²Œ í•˜ë©´ ë©ë‹ˆë‹¤.  
- ê¿€íŒ: ë‹¹ë©´ì€ ë¯¸ë¦¬ ì‚¶ì•„ì„œ ë„£ì–´ì•¼ ëì— ì–‘ë…ì´ ì˜ ë°°ê³  ë¶ˆì§€ ì•ŠìŠµë‹ˆë‹¤.  

3. ì‹¤í–‰ Act  
[ë‹­ê³ ê¸° ë§ˆë¼ìƒ¹ê¶ˆ] ë ˆì‹œí”¼  

1) ì¬ë£Œ ì¤€ë¹„  
- ë‹­ê³ ê¸°: 200g ì •ë„(ëª©ì‚´, ì•ˆì‹¬, ë‹¤ë¦¬ì‚´ ë“± ìƒê´€ì—†ìŒ), ë¨¹ê¸° ì¢‹ì€ í¬ê¸°ë¡œ ì°ê¸°  
- ë‹¹ê·¼: ë°˜ ê°œ, ê¸¸ê²Œ ì±„ì°ê¸°  
- ì•Œë°°ì¶”: 3~4ì, í•œ ì… í¬ê¸°ë¡œ ì°ê¸°  
- ë‹¹ë©´: ì ë‹¹ëŸ‰(1ì¸ë¶„ ê¸°ì¤€ í•œ ì¤Œ), ë¯¸ë¦¬ ë¬¼ì— 20ë¶„ê°„ ë¶ˆë¦° í›„ ë“ëŠ” ë¬¼ì— 4~5ë¶„ê°„ ì‚¶ê³  ì°¬ë¬¼ì— í—¹ê¶ˆ ì¤€ë¹„  
- ë§ˆë¼ì†ŒìŠ¤: ê¸°í˜¸ì— ë§ê²Œ(2~3í°ìˆ ), ì§œê±°ë‚˜ ë§µë‹¤ë©´ ì¡°ì ˆ  
* ì†Œê¸ˆ, í›„ì¶”, ì‹ìš©ìœ (ì—†ë‹¤ë©´ ì•„ë¬´ ì˜¤ì¼ ê°€ëŠ¥) ì¤€ë¹„  
...
- ë‹­ê³ ê¸° ëŒ€ì‹  ë¼ì§€ê³ ê¸°, í•´ì‚°ë¬¼ ë“±ë„ ì‘ìš© ê°€ëŠ¥  
- ë‹¹ë©´ ëŒ€ì‹  ìš°ë™ë©´, ë„“ì ë‹¹ë©´ë„ í™œìš© ê°€ëŠ¥  

ëƒ‰ì¥ê³ ì— ë‚«ë˜ê°€ ì•„ì§ ë‚¨ì•„ìˆìŠµë‹ˆë‹¤.
Output is truncated. View as a scrollable element or open in a text editor. Adjust cell output settings...
# --------------

# ì—­í• ê·¹ & ì‹¤ì „ ì ìš© (ë©´ì ‘ ì§ˆë¬¸ ìƒì„±)
from openai import OpenAI
import json

def job_interview(job_posting, temperature=0.5):
    client = OpenAI(api_key=OPENAI_API_KEY)

    system_instruction = """
    ë‹¹ì‹ ì€ í’€ìŠ¤íƒ ê°œë°œ ë¶„ì•¼ì˜ 10ë…„ì°¨ ì „ë¬¸ê°€ì´ë©´ì„œ, í•´ë‹¹ ë¶„ì•¼ì˜ ë©´ì ‘ ì „ë¬¸ê°€ì…ë‹ˆë‹¤.
    ì‚¬ìš©ìê°€ ì œê³µí•œ êµ¬ì¸ê³µê³ ì— ê·¼ê±°í•´ì„œ í•µì‹¬ì ì¸ ì§ˆë¬¸ë“¤ë¡œ ì§€ì›ìë¥¼ í‰ê°€í•  ìˆ˜ ìˆì–´ì•¼í•©ë‹ˆë‹¤.
    """

    user_msg = f"""
    ì•„ë˜ ì±„ìš©ê³µê³ ì˜ ì§ë¬´ì— ëŒ€í•´ ì˜ˆìƒ ë©´ì ‘ì§ˆë¬¸ê³¼ ëª¨ë²”ë‹µì•ˆì„ ì‘ì„±í•´ì£¼ì„¸ìš”.

    -- ê°€ì´ë“œ --
    í•˜ë“œ ìŠ¤í‚¬ê³¼ ì†Œí”„íŠ¸ìŠ¤í‚¬ 2ê°œì˜ ì„¹ì…˜ìœ¼ë¡œ ë‚˜ëˆ  ì‘ì„±í•´ì£¼ì„¸ìš”.
    ê° ì„¹ì…˜ë³„ë¡œ 3ê°œì˜ ì§ˆë¬¸ê³¼ ë‹µë³€ì„ ì¤€ë¹„í•´ì£¼ì„¸ìš”.

    -- ì¶œë ¥ í˜•ì‹ --
    # 1. í•˜ë“œ ìŠ¤í‚¬
    ì§ˆë¬¸1)
    ë‹µë³€1)

    ì§ˆë¬¸2)
    ë‹µë³€2)
    
    ì§ˆë¬¸3)
    ë‹µë³€3)

    # 2. ì†Œí”„íŠ¸ìŠ¤í‚¬
    ì§ˆë¬¸1)
    ë‹µë³€1)

    ì§ˆë¬¸2)
    ë‹µë³€2)
    
    ì§ˆë¬¸3)
    ë‹µë³€3)
    """

    response = client.chat.completions.create(
        model="gpt-4.1",
        messages=[ 
            #ëŒ€í™”ì˜ íˆìŠ¤í† ë¦¬ë¥¼ ë¦¬ìŠ¤íŠ¸ í˜•íƒœë¡œ ì „ë‹¬. ê° ìš”ì†ŒëŠ” roleê³¼ contentë¥¼ ê°€ì§„ ë”•ì…”ë„ˆë¦¬ì´ë‹¤.
            {
                "role": "system", # ì‹œìŠ¤í…œì˜ ì „ë°˜ì ì¸ ì§€ì‹œì‚¬í•­ ì „ë‹¬. ëŒ€í™”ì˜ ê°€ì¥ ì²˜ìŒì— ìœ„ì¹˜í•´ ëª¨ë¸ì˜ í–‰ë™ ê¸°ì¤€ì„ ì„¤ì •í•¨
                "content": [
                    {
                        # íƒ€ì…ê³¼ í…ìŠ¤íŠ¸(ì—­í• )ë¥¼ ë‹¤ ì „ë‹¬í•´ì•¼í•¨
                        "type": "text",
                        "text": system_instruction
                    }
                ]
            },
            {
                "role": "user",  # ì‚¬ìš©ìì˜ ì‹¤ì œ ìš”ì²­ ì „ë‹¬
                "content": [
                    {
                        "type": "text",
                        "text": user_msg
                    }
                ]
            }
        ],
        response_format={
            'type': "text"
        },
        temperature=temperature, # ëŒ€ë‹µ ì°½ì˜ì„±ì— ê´€í•œ ì„¤ì •(ê¸°ë³¸ê°’: 1)
        max_tokens=2048, # ì‘ë‹µì— ì‚¬ìš©ë  í† í° ìˆ˜(ì‘ë‹µ ìµœëŒ€í† í°ìˆ˜)
        top_p=1, # ì‚¬ìš©í•  ìƒìœ„ëˆ„ì í™•ë¥ 
        frequency_penalty=0, # í† í° ì‚¬ìš© ë¹ˆë„ìˆ˜ì— ëŒ€í•œ íŒ¨ë„í‹°
        presence_penalty=0 # í† í° ì¬ì‚¬ìš©ì— ëŒ€í•œ íŒ¨ë„í‹°
    )
    return response.choices[0].message.content

job_posting = """
ë‹´ë‹¹ì—…ë¬´: ê¸€ë¡œë²Œ ëª¨ë°”ì¼ë±…í‚¹ ì•± ë°±ì—”ë“œ ì„œë²„ ë ˆí¼ëŸ°ìŠ¤ ëª¨ë¸ ê°œë°œ ë° í˜„ì§€í™”
í˜„ì§€ ê¸ˆìœµì‚¬ ë° íŒŒíŠ¸ë„ˆì‚¬ì™€ í˜‘ì—…ì„ í†µí•œ ì‹ ê·œ ì€í–‰ ì‹œìŠ¤í…œ êµ¬ì¶• ë° ìš´ì˜

í•„ìˆ˜ê²½í—˜ê³¼ ì—­ëŸ‰: Java(kotlin), Spring ê¸°ë°˜ì˜ ì›¹ ì–´í”Œë¦¬ì¼€ì´ì…˜ ê°œë°œ ë° ìš´ì˜ ê²½í—˜ 3ë…„ ì´ìƒì¸ ë¶„
Server, Network, DB ë“± ITê¸°ìˆ  ì „ë°˜ì— ëŒ€í•œ ì´í•´ê°€ ìˆëŠ” ë¶„
ê°œë°œ ìƒì‚°ì„± í–¥ìƒ ë° ìš´ì˜ í™˜ê²½ ê°œì„ ì— ì í•©í•œ ì˜¤í”ˆì†ŒìŠ¤ ì†”ë£¨ì…˜ í™œìš©ì— ê´€ì‹¬ì´ ë§ì€ ë¶„
ì˜ì–´ë¡œ ì§„í–‰í•˜ëŠ” íšŒì˜ì— ì°¸ì—¬í•˜ëŠ” ë° ì§€ì¥ì´ ì—†ëŠ” ë¶„
ì§€ì†ì ì¸ ê¸°ìˆ  ìŠµë“ì„ í†µí•œ ê°œì¸ ë° ì¡°ì§ì˜ ì—­ëŸ‰ ê°•í™”ì— ê´€ì‹¬ì´ ë§ì€ ë¶„

ìš°ëŒ€ì‚¬í•­: ì™¸êµ­ê³„ ê¸°ì—… ë˜ëŠ” ë‹¤êµ­ì  í™˜ê²½ì—ì„œì˜ ê·¼ë¬´ ê²½í—˜ì´ ìˆëŠ” ë¶„
ë‹¤ì–‘í•œ í™˜ê²½ì˜ Cloud ê¸°ë°˜ ê°œë°œ ë° ìš´ì˜ ê²½í—˜ì´ ìˆëŠ” ë¶„
ë™ì‹œ ì ‘ì†ëŸ‰ì´ ë§ì€ ì‹œìŠ¤í…œ ì„¤ê³„ ë° ê°œë°œ ê²½í—˜ì´ ìˆëŠ” ë¶„
ì„±ëŠ¥ ë° ë¶€í•˜ í…ŒìŠ¤íŠ¸ë¥¼ í†µí•œ ì„œë¹„ìŠ¤ ê°œì„  ë° ìµœì í™” ê²½í—˜ì´ ìˆëŠ” ë¶„
ê¸ˆìœµ ì„œë¹„ìŠ¤ ë˜ëŠ” í•€í…Œí¬ ì‚°ì—… ê²½í—˜ì´ ìˆëŠ” ë¶„
ì„œë¹„ìŠ¤ë¥¼ ì•ˆì •ì ì´ê³  íš¨ìœ¨ì ìœ¼ë¡œ ì œê³µí•˜ê¸° ìœ„í•œ ì‹œìŠ¤í…œ êµ¬ì¶• ë° ìš´ì˜ ê²½í—˜ì´ ìˆëŠ” ë¶„
"""

print (job_interview(job_posting))

# ê²°ê³¼:---------
ì±„ìš©ê³µê³  ì „ë¬¸ì´ ëˆ„ë½ë˜ì–´ ìˆì–´, ì˜ˆì‹œë¡œ "Reactì™€ Node.js ê¸°ë°˜ì˜ í’€ìŠ¤íƒ ê°œë°œì" ì±„ìš©ê³µê³ ë¥¼ ê¸°ì¤€ìœ¼ë¡œ ì‘ì„±í•˜ê² ìŠµë‹ˆë‹¤. ë§Œì•½ íŠ¹ì • ê³µê³ ê°€ ìˆë‹¤ë©´, ì „ë¬¸ì„ ì œê³µí•´ì£¼ì‹œë©´ ë§ì¶¤í˜•ìœ¼ë¡œ ì‘ì„±í•´ë“œë¦´ ìˆ˜ ìˆìŠµë‹ˆë‹¤.

---

# 1. í•˜ë“œ ìŠ¤í‚¬

ì§ˆë¬¸1)  
Reactì—ì„œ ìƒíƒœ ê´€ë¦¬ ë°©ë²•ì—ëŠ” ì–´ë–¤ ê²ƒë“¤ì´ ìˆìœ¼ë©°, ì‹¤ì œ í”„ë¡œì íŠ¸ì—ì„œ ì–´ë–¤ ë°©ë²•ì„ ì„ íƒí–ˆëŠ”ì§€ ì„¤ëª…í•´ ì£¼ì„¸ìš”.

ë‹µë³€1)  
Reactì—ì„œ ìƒíƒœ ê´€ë¦¬ëŠ” ì»´í¬ë„ŒíŠ¸ ë‚´ë¶€ ìƒíƒœ, Context API, Redux, MobX, Recoil ë“± ë‹¤ì–‘í•œ ë°©ë²•ì´ ìˆìŠµë‹ˆë‹¤. ì €ëŠ” ê·œëª¨ê°€ ì‘ì€ í”„ë¡œì íŠ¸ì—ì„œëŠ” useStateì™€ Context APIë¥¼ ì£¼ë¡œ ì‚¬ìš©í–ˆê³ , ë³µì¡í•œ ìƒíƒœì™€ ì—¬ëŸ¬ ì»´í¬ë„ŒíŠ¸ ê°„ì˜ ë°ì´í„° ê³µìœ ê°€ í•„ìš”í•œ ëŒ€ê·œëª¨ í”„ë¡œì íŠ¸ì—ì„œëŠ” Reduxë¥¼ ë„ì…í–ˆìŠµë‹ˆë‹¤. ì˜ˆë¥¼ ë“¤ì–´, ì‡¼í•‘ëª° í”„ë¡œì íŠ¸ì—ì„œëŠ” Redux Toolkitì„ í™œìš©í•´ ìƒíƒœë¥¼ íš¨ìœ¨ì ìœ¼ë¡œ ê´€ë¦¬í•˜ê³ , ë¯¸ë“¤ì›¨ì–´ë¡œ redux-thunkë¥¼ ì ìš©í•´ ë¹„ë™ê¸° ì‘ì—…ì„ ì²˜ë¦¬í–ˆìŠµë‹ˆë‹¤.

ì§ˆë¬¸2)  
Node.jsì—ì„œ ë¹„ë™ê¸° ì²˜ë¦¬ë¥¼ ì–´ë–»ê²Œ êµ¬í˜„í•˜ë©°, ì½œë°± ì§€ì˜¥(Callback Hell)ì„ ë°©ì§€í•˜ëŠ” ë°©ë²•ì€ ë¬´ì—‡ì¸ì§€ ì„¤ëª…í•´ ì£¼ì„¸ìš”.

ë‹µë³€2)  
Node.jsì—ì„œ ë¹„ë™ê¸° ì²˜ë¦¬ëŠ” ì£¼ë¡œ ì½œë°±, Promise, async/awaitë¥¼ ì‚¬ìš©í•´ êµ¬í˜„í•©ë‹ˆë‹¤. ì½œë°± ì§€ì˜¥ì„ ë°©ì§€í•˜ê¸° ìœ„í•´ Promise ì²´ì´ë‹ì„ ì‚¬ìš©í•˜ê±°ë‚˜, ES8ì—ì„œ ë„ì…ëœ async/await ë¬¸ë²•ì„ í™œìš©í•©ë‹ˆë‹¤. async/awaitëŠ” ì½”ë“œì˜ ê°€ë…ì„±ì„ ë†’ì—¬ì£¼ê³ , ì—ëŸ¬ í•¸ë“¤ë§ë„ try-catchë¡œ ì§ê´€ì ìœ¼ë¡œ í•  ìˆ˜ ìˆì–´ ì‹¤ì œ í”„ë¡œì íŠ¸ì—ì„œ ì„ í˜¸í•˜ì—¬ ì‚¬ìš©í•˜ê³  ìˆìŠµë‹ˆë‹¤.

ì§ˆë¬¸3)  
RESTful API ì„¤ê³„ì˜ ì£¼ìš” ì›ì¹™ì€ ë¬´ì—‡ì´ë©°, ì‹¤ì œë¡œ ì–´ë–»ê²Œ ì ìš©í–ˆëŠ”ì§€ ì‚¬ë¡€ë¥¼ ë“¤ì–´ ì„¤ëª…í•´ ì£¼ì„¸ìš”.

ë‹µë³€3)  
RESTful API ì„¤ê³„ì˜ ì£¼ìš” ì›ì¹™ì€ ìì›(Resource) ê¸°ë°˜ URI ì„¤ê³„, HTTP ë©”ì„œë“œ(GET, POST, PUT, DELETE)ì˜ ëª…í™•í•œ ì‚¬ìš©, í´ë¼ì´ì–¸íŠ¸-ì„œë²„ì˜ ë¶„ë¦¬, ë¬´ìƒíƒœì„±(Stateless), ê³„ì¸µí™” êµ¬ì¡° ë“±ì´ ìˆìŠµë‹ˆë‹¤. ì˜ˆë¥¼ ë“¤ì–´, ì‚¬ìš©ì ì •ë³´ë¥¼ ë‹¤ë£¨ëŠ” ê²½ìš° `/users`, íŠ¹ì • ì‚¬ìš©ìëŠ” `/users/{id}`ì™€ ê°™ì´ URIë¥¼ ì„¤ê³„í–ˆìŠµë‹ˆë‹¤. ë˜í•œ, GET ë©”ì„œë“œëŠ” ë°ì´í„° ì¡°íšŒ, POSTëŠ” ìƒì„±, PUTì€ ìˆ˜ì •, DELETEëŠ” ì‚­ì œì— ê°ê° ë§¤í•‘í•˜ì—¬ ì¼ê´€ì„± ìˆê²Œ APIë¥¼ ì„¤ê³„í–ˆìŠµë‹ˆë‹¤.

---
...

---

ì±„ìš©ê³µê³  ì „ë¬¸ì„ ì œê³µí•´ì£¼ì‹œë©´ ë”ìš± ë§ì¶¤í™”ëœ ì§ˆë¬¸ê³¼ ë‹µë³€ì„ ë“œë¦´ ìˆ˜ ìˆìŠµë‹ˆë‹¤!
Output is truncated. View as a scrollable element or open in a text editor. Adjust cell output settings...
# --------------



# Coding-test : HttpServletRequest, HttpServletResponse import class ìì²´ê°€ ì•ˆ ëœ¨ëŠ” ìƒí™© ë°œìƒ
    compileOnly 'javax.servlet:javax.servlet-api:4.0.1'
build.gradleì— ì¶”ê°€ -> í•´ê²° ì™„ë£Œ

# ê° ìœ ì € ë¡œê·¸ì¸ ì‹œ í† í° ê°ê° ë‹¤ë¥¸ ê±¸ë¡œ ìƒì„±ë˜ëŠ”ì§€ í™•ì¸ ì™„ë£Œ -> í”„ë¡œì íŠ¸ë¡œ ì¼ë˜ ì½”ë“œ ê·¸ëŒ€ë¡œ ì‚¬ìš©í•´ë„ ë  ë“¯ 250730 16:23


# SecurityConfig ë‚´ corsConfigurer ë©”ì†Œë“œ ëŒ€ì‹  (JDK ë²„ì „ì´ ë‚®ì•„ì„œ ì‚¬ìš© ë¶ˆê°€)
# CorsConfig í´ë˜ìŠ¤ ìƒì„±.
# ì›ë³¸(SecurityConfig ë‚´ ìœ„ì¹˜)
//í”„ë¡ íŠ¸ì—”ë“œ ë³„ê°œ ì—°ê²°ì‹œ í•„ìš”í•œ ì½”ë“œ
    @Bean
    public WebMvcConfigurer corsConfigurer() {
        return new WebMvcConfigurer() {
            @Override
            public void addCorsMappings(@NotNull CorsRegistry registry) {
                registry.addMapping("/**")
                        .allowedOrigins("http://localhost:3000")
                        .allowedMethods("*")
                        .allowedHeaders("*")
                        .allowCredentials(true);
            }
        };
    }

# ìƒˆë¡œ ìƒì„± í´ë˜ìŠ¤
package com.coding_test.ct_hashsnap_backend.auth.config;

import org.antlr.v4.runtime.misc.NotNull;
import org.springframework.web.servlet.config.annotation.CorsRegistry;
import org.springframework.web.servlet.config.annotation.WebMvcConfigurer;

public class CorsConfig implements WebMvcConfigurer {
    //í”„ë¡ íŠ¸ì—”ë“œ ë³„ê°œ ì—°ê²°ì‹œ í•„ìš”í•œ í´ë˜ìŠ¤
    @Override
    public void addCorsMappings(@NotNull CorsRegistry registry) {
        registry.addMapping("/**") // Apply CORS to all paths
                .allowedOrigins("http://localhost:3000") // If you wanna allow all origins, put "*"
                .allowedMethods("*") // Allow all HTTP methods (GET, POST, PUT, DELETE, etc.)
                .allowedHeaders("*") // Allow all headers
                .allowCredentials(true); // Allow sending credentials (cookies, HTTP authentication)
    }
}
