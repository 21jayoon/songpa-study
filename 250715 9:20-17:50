https://owasp.org/www-project-web-security-testing-guide/latest/4-Web_Application_Security_Testing/05-Authorization_Testing/01-Testing_Directory_Traversal_File_Include
https://velog.io/@hyeok_1212/%EC%9D%B4%EB%A0%87%EA%B2%8C-%EB%B3%B8%EC%9D%B8-%EC%9D%B8%EC%A6%9D%EC%9D%84-%ED%95%B4%EB%B3%BC%EA%B9%8C

https://www.maeil-mail.kr/question/16
# React (front-end)ì˜ propsì™€ state
propsëŠ” ë¶€ëª¨ ì»´í¬ë„ŒíŠ¸ê°€ ìì‹ ì»´í¬ë„ŒíŠ¸ì— ì „ë‹¬í•˜ëŠ” ë°ì´í„°.
propsëŠ” ì½ê¸° ì „ìš©ìœ¼ë¡œ, ìì‹ ì»´í¬ë„ŒíŠ¸ëŠ” propsë¥¼ ìˆ˜ì •í•  ìˆ˜ ì—†ë‹¤.
propsë¥¼ í†µí•´ ì»´í¬ë„ŒíŠ¸ ê°„ì˜ ë°ì´í„° íë¦„ì„ ì˜ˆì¸¡ ê°€ëŠ¥í•˜ê²Œ ë§Œë“¤ê³ , ì»´í¬ë„ŒíŠ¸ì˜ ì¬ì‚¬ìš©ì„±ì´ ë†’ì•„ì§„ë‹¤.

stateëŠ” ì»´í¬ë„ŒíŠ¸ ë‚´ë¶€ì—ì„œ ê´€ë¦¬ë˜ëŠ” ë°ì´í„°. ë™ì ìœ¼ë¡œ ë³€ê²½ë  ìˆ˜ ìˆìœ¼ë©°, ì»´í¬ë„ŒíŠ¸ì˜ ë Œë”ë§ì— ì˜í–¥ì„ ë¯¸ì¹œë‹¤.
stateë¥¼ ë³€ê²½í•˜ë©´ ì»´í¬ë„ŒíŠ¸ëŠ” ë‹¤ì‹œ ë Œë”ë§ë˜ë©°, UIê°€ ì—…ë°ì´íŠ¸ëœë‹¤.
stateëŠ” ì£¼ë¡œ "ì‚¬ìš©ì ì…ë ¥"ì´ë‚˜ ë„¤íŠ¸ì›Œí¬ ìš”ì²­ì˜ "ì‘ë‹µì— ë”°ë¼ ë³€í•˜ëŠ” ë°ì´í„°"ë¥¼ ê´€ë¦¬í•  ë•Œ ì‚¬ìš©í•œë‹¤.

# propsê°€ ìì‹ ì»´í¬ë„ŒíŠ¸ì—ì„œ ë³€í•˜ì§€ ì•ŠëŠ” ì´ìœ ??
ë¦¬ì•¡íŠ¸ì˜ "ë‹¨ë°©í–¥ ë°ì´í„° íë¦„ ì›ì¹™" ë•Œë¬¸.
ë¦¬ì•¡íŠ¸ëŠ” ë¶€ëª¨ ì»´í¬ë„ŒíŠ¸ê°€ ìì‹ ì»´í¬ë„ŒíŠ¸ì— ë°ì´í„°ë¥¼ ì „ë‹¬í•  ë•Œ ë‹¨ë°©í–¥ìœ¼ë¡œ ì „ë‹¬í•˜ë„ë¡ ì„¤ê³„ë˜ì—ˆë‹¤.
ì´ë ‡ê²Œ í•˜ë©´ ì»´í¬ë„ŒíŠ¸ ê°„ì˜ ë°ì´í„° íë¦„ì„ ì˜ˆì¸¡ ê°€ëŠ¥í•˜ê³  ì¼ê´€ì„± ìˆê²Œ ë§Œë“¤ ìˆ˜ ìˆì–´
ì• í”Œë¦¬ì¼€ì´ì…˜ ìƒíƒœ ê´€ë¦¬ê°€ ê°„ë‹¨í•´ì§„ë‹¤.

propsëŠ” ì½ê¸° ì „ìš©ì´ê¸° ë•Œë¬¸ì—, 
ë¶€ëª¨ ì»´í¬ë„ŒíŠ¸ì—ì„œ ì „ë‹¬ëœ ê°’ì´ ìì‹ ì»´í¬ë„ŒíŠ¸ ë‚´ì—ì„œ ì„ì˜ë¡œ ë³€ê²½ë˜ì§€ ì•ŠëŠ”ë‹¤. 
ì´ë¡œ ì¸í•´, íŠ¹ì • ìƒíƒœê°€ ì–´ë””ì„œ ì–´ë–»ê²Œ ë³€í–ˆëŠ”ì§€ë¥¼ ì˜ˆì¸¡í•  ìˆ˜ ìˆì–´ 
ë²„ê·¸ ë°œìƒ ê°€ëŠ¥ì„±ì„ ì¤„ì´ê³  ë””ë²„ê¹…ì„ ì‰½ê²Œ ë§Œë“ ë‹¤.

ë§Œì•½ propsê°€ ë³€ê²½ë  ìˆ˜ ìˆë‹¤ë©´, 
ìì‹ ì»´í¬ë„ŒíŠ¸ëŠ” ë…ë¦½ì ìœ¼ë¡œ ë™ì‘í•˜ì§€ ì•Šê²Œ ë˜ê³ , ì¬ì‚¬ìš©ì´ ì–´ë ¤ì›Œì§ˆ ìˆ˜ ìˆë‹¤.
propsê°€ ë¶ˆë³€ìœ¼ë¡œ ìœ ì§€ë¨ìœ¼ë¡œì¨
ì»´í¬ë„ŒíŠ¸ëŠ” ì™¸ë¶€ ì…ë ¥ì— ì˜ì¡´í•  ë¿ ë‚´ë¶€ì ìœ¼ë¡œ ë³€ê²½ë˜ì§€ ì•Šì•„
ì¬ì‚¬ìš©ì„±ì´ ë†’ì•„ì§€ê³ , ì½”ë“œì˜ ìº¡ìŠí™”ê°€ ê°•í™”ëœë‹¤.

# ë§Œì•½ ìì‹ ì»´í¬ë„ŒíŠ¸ì—ì„œ ë¶€ëª¨ ì»´í¬ë„ŒíŠ¸ë¡œë¶€í„° ë°›ì€ propsë¥¼ ë³€ê²½í•´ì•¼ í•œë‹¤ë©´???
ìì‹ ì»´í¬ë„ŒíŠ¸ê°€ ë¶€ëª¨ë¡œë¶€í„° ë°›ì€ propsë¥¼ ë³€ê²½í•´ì•¼ í•œë‹¤ë©´,
ë¶€ëª¨ ì»´í¬ë„ŒíŠ¸ì—ì„œ ìƒíƒœë¡œ í•´ë‹¹ ë°ì´í„°ë¥¼ ê´€ë¦¬í•˜ê³ ,
ìƒíƒœ ë³€ê²½ í•¨ìˆ˜ë¥¼ ìì‹ ì»´í¬ë„ŒíŠ¸ë¡œ ì „ë‹¬í•˜ëŠ” ë°©ì‹ìœ¼ë¡œ êµ¬í˜„í•´ì•¼ í•œë‹¤.

ì´ë ‡ê²Œ í•˜ë©´ ë°ì´í„°ëŠ” ì—¬ì „íˆ ë‹¨ë°©í–¥ìœ¼ë¡œ íë¥´ê³ ,
ìƒíƒœëŠ” ë¶€ëª¨ ì»´í¬ë„ŒíŠ¸ê°€ ê´€ë¦¬í•˜ë¯€ë¡œ ì¼ê´€ì„±ì„ ìœ ì§€í•  ìˆ˜ ìˆë‹¤. 
ì´ëŸ¬í•œ ê¸°ë²•ì„ "ìƒíƒœ ëŒì–´ì˜¬ë¦¬ê¸°"ë¼ê³  í•œë‹¤.


# 20250715 Developing Day 7
## 1. Change import of AccessDeniedException in UserFacadeService, MsgTemplateService, MSBService, SalesService, BossReservationService
Detract 'throws AccessDeniedException' at each method and
import org.springframework.security.access.AccessDeniedException;

## 2. /* 11. MenuCategoryService authorization : createMenuCategory, updateMenuCategory, deleteMenuCategory */
    @Transactional
    public MenuCategoryDTO authCreateMenuCategory(LoginUserDTO loginUserDTO, MenuCategoryDTO dto, Integer shopCode) {
        User user = userRepository.findByUserId(loginUserDTO.getUserId());

        // MenuCategorySercie ë‚´ì˜ createMenuCategory ë©”ì†Œë“œ ìˆ˜ì • ì—†ì´ ì´ìš©í•˜ê¸° ìœ„í•´
        // íŒŒì‚¬ë“œì„œë¹„ìŠ¤ì—ì„œì˜ exception ì‚¬ìš© 
        if (!user.isAdmin()) {
            throw new AccessDeniedException("ê´€ë¦¬ìë§Œ ì ‘ê·¼ê°€ëŠ¥í•œ í˜ì´ì§€ì…ë‹ˆë‹¤.");
        }

        return menuCategoryService.createMenuCategory(dto, shopCode);
    }

    @Transactional
    public MenuCategoryDTO authUpdateMenuCategory(LoginUserDTO loginUserDTO, Integer categoryCode, Integer shopCode, MenuCategoryDTO dto) {
        User user = userRepository.findByUserId(loginUserDTO.getUserId());

        if (!user.isAdmin()) {
            throw new AccessDeniedException("ê´€ë¦¬ìë§Œ ì ‘ê·¼ê°€ëŠ¥í•œ í˜ì´ì§€ì…ë‹ˆë‹¤.");
        }

        return menuCategoryService.updateMenuCategory(categoryCode, shopCode, dto);
    }

    @Transactional
    public void deleteMenuCategory(LoginUserDTO loginUserDTO, Integer categoryCode, Integer shopCode) {
        User user = userRepository.findByUserId(loginUserDTO.getUserId());

        if (!user.isAdmin()) {
            throw new AccessDeniedException("ê´€ë¦¬ìë§Œ ì ‘ê·¼ê°€ëŠ¥í•œ í˜ì´ì§€ì…ë‹ˆë‹¤.");
        }

        menuCategoryService.deleteMenuCategory(categoryCode, shopCode);
    }

## 3. [FIX] ëŒ€í˜• ë¬¸ì œìƒí™© ë°œìƒ

    accessMsgTemplate ì´ ë©”ì†Œë“œ í•˜ë‚˜ë§Œìœ¼ë¡œ ì–´ë–»ê²Œ MessageTemplateServiceì˜ ì „ì²´ ì ‘ê·¼ì„ ë§‰ëŠ” ê±°ì•¼?

    ì •ë‹µì€: â— "ëª» ë§‰ì•„. ê·¸ ë©”ì†Œë“œë§Œìœ¼ë¡œëŠ” MessageTemplateServiceì˜ ì „ì²´ ì ‘ê·¼ì„ ë§‰ì„ ìˆ˜ ì—†ì–´."
    
    ğŸ¯ ì™œ ëª» ë§‰ì„ê¹Œ?
    accessMsgTemplate(User user) ë©”ì„œë“œëŠ” ê·¸ í•¨ìˆ˜ ì•ˆì—ì„œë§Œ ê´€ë¦¬ì ê¶Œí•œì„ ê²€ì‚¬í•  ë¿ì´ì•¼.
    ê·¸ëŸ¬ë‹ˆê¹Œ, ë‹¤ë¥¸ ëˆ„êµ°ê°€ê°€ MessageTemplateServiceì˜ ë‹¤ë¥¸ ë©”ì„œë“œë“¤ì„ ì§ì ‘ í˜¸ì¶œí•˜ë©´?
    â†’ accessMsgTemplate()ëŠ” í˜¸ì¶œë˜ì§€ ì•Šìœ¼ë‹ˆê¹Œ
    â†’ ê¶Œí•œ ê²€ì‚¬ê°€ ì•ˆ ë¨ âŒ
    
    ì¦‰, accessMsgTemplate()ëŠ” "ë§‰ëŠ” ë°©ë²•"ì´ ì•„ë‹ˆë¼ "ê²€ì‚¬ ë„êµ¬"ì¼ ë¿ì´ì•¼.
    
    ğŸ§¯ê·¸ëŸ¼ ì–´ë–»ê²Œ ì „ì²´ ì ‘ê·¼ì„ ë§‰ì„ ìˆ˜ ìˆì–´?
    ğŸ‘‰ FacadeServiceë¥¼ í†µí•´ì„œë§Œ MessageTemplateServiceì— ì ‘ê·¼í•˜ê²Œ í•˜ê³ ,
    ê·¸ ì•ˆì—ì„œ accessMsgTemplate()ì„ í•­ìƒ í˜¸ì¶œí•˜ê²Œ ê°•ì œí•´ì•¼ í•´.
    
    ì¦‰, êµ¬ì¡°ì ìœ¼ë¡œ "MessageTemplateServiceëŠ” ì§ì ‘ ì“°ì§€ ë§ê³ , ë°˜ë“œì‹œ íŒŒì‚¬ë“œ(FacadeService)ë¥¼ í†µí•´ì„œë§Œ ì¨ë¼" ë¼ê³  ê°•ì œí•´ì•¼ í•´.
    
    âœ… ì˜ˆì‹œ ê·¸ë¦¼
    [âŒ ì˜ëª»ëœ êµ¬ì¡°]
    Controller â†’ MessageTemplateService.getTemplate()  â†âŒ ê¶Œí•œê²€ì‚¬ ì•ˆ í•¨
    
    
    [âœ… ë°”ëŒì§í•œ êµ¬ì¡°]
    Controller â†’ FacadeService.adminGetTemplate()
    â†“
    accessMsgTemplate(user) â† ê´€ë¦¬ì í™•ì¸
    â†“
    MessageTemplateService.getTemplate()
    âœ… ê²°ë¡ 
    accessMsgTemplate() ë©”ì„œë“œ í•˜ë‚˜ë§Œìœ¼ë¡œëŠ” ì „ì²´ ì ‘ê·¼ì„ ë§‰ì„ ìˆ˜ ì—†ë‹¤. âŒ
    
    ì´ ë©”ì„œë“œëŠ” "ë„ìš°ë¯¸(guard) í•¨ìˆ˜"ì¼ ë¿ì´ê³ ,
    ì‹¤ì œë¡œëŠ” ëª¨ë“  í˜¸ì¶œ ì „ì— "ì´ í•¨ìˆ˜ë¥¼ ë°˜ë“œì‹œ í˜¸ì¶œí•˜ë„ë¡ ê°•ì œí•˜ëŠ” êµ¬ì¡°(Facade ë˜ëŠ” AOP ë“±)"ê°€ í•„ìš”í•˜ë‹¤.
    
    ë”°ë¼ì„œ MessageTemplateServiceë¥¼ ì§ì ‘ í˜¸ì¶œí•˜ì§€ ì•Šê³ , 
    í•­ìƒ UserFacadeService ê°™ì€ ê³³ì„ ê±°ì¹˜ê²Œ í•´ì•¼ í•œë‹¤.
    
    âœï¸ ë³´ë„ˆìŠ¤: ì™„ì „íˆ ìë™ìœ¼ë¡œ ë§‰ê³  ì‹¶ë‹¤ë©´?
    Spring Security + AOP ë˜ëŠ” @PreAuthorize ê°™ì€ ì–´ë…¸í…Œì´ì…˜ì„ ì“°ë©´,
    ì•„ì˜ˆ íŠ¹ì • ë©”ì„œë“œì— "ì´ê±´ ê´€ë¦¬ìë§Œ ì ‘ê·¼ ê°€ëŠ¥"ì´ë¼ê³  ì„ ì–¸í•  ìˆ˜ë„ ìˆì–´.
    
    ì˜ˆ:
    @PreAuthorize("hasRole('ADMIN')")
    public List<MessageTemplateDTO> getTemplates() {
    ...
    }
    ì´ê±´ ë‚˜ì¤‘ì— ìŠ¤í”„ë§ ì‹œíë¦¬í‹° ê³µë¶€í•  ë•Œ ìì—°ìŠ¤ëŸ½ê²Œ ë°°ìš¸ ê±°ì•¼!
    
    í•„ìš”í•˜ë©´ AOP ë°©ì‹ìœ¼ë¡œ accessMsgTemplate() ìë™ í˜¸ì¶œí•˜ëŠ” êµ¬ì¡°ë„ ì•Œë ¤ì¤„ ìˆ˜ ìˆì–´.
    ì§€ê¸ˆì€ "Facadeë¥¼ í†µí•´ì„œë§Œ ì“°ê²Œ êµ¬ì¡°ì ìœ¼ë¡œ ê°•ì œí•´ì•¼ ë§‰ì„ ìˆ˜ ìˆë‹¤"ëŠ” í•µì‹¬ë§Œ ê¼­ ê¸°ì–µí•´!

### 3-1. Revise all entity services and UserFacadeService

## 4. Create FacadeServiceAuthTest only for test authorization of other colleague's entity
https://seonjun0906.tistory.com/entry/SpringBootTest-vs-Mock

    package com.header.header.domain.auth;

    import com.header.header.auth.model.dto.LoginUserDTO;
    import com.header.header.domain.menu.dto.MenuCategoryDTO;
    import com.header.header.domain.user.facade.UserFacadeService;
    import com.header.header.domain.user.repository.MainUserRepository;
    import jakarta.transaction.Transactional;
    import org.junit.jupiter.api.DisplayName;
    import org.junit.jupiter.api.Test;
    import org.springframework.beans.factory.annotation.Autowired;
    import org.springframework.boot.test.context.SpringBootTest;
    import org.springframework.security.access.AccessDeniedException;
    
    import static org.junit.jupiter.api.Assertions.*;
    
    @SpringBootTest
    @Transactional
    public class FacadeServiceAuthTest {
    
        // @Autowiredë¥¼ ì‚¬ìš©í•˜ì—¬ ì‹¤ì œ UserFacadeService ë¹ˆì„ ì£¼ì…ë°›ìŠµë‹ˆë‹¤.
        // @InjectMocks ëŒ€ì‹  @Autowiredë¥¼ ì‚¬ìš©í•˜ëŠ” ì´ìœ ëŠ” @SpringBootTest í™˜ê²½ì—ì„œëŠ” ì‹¤ì œ ë¹ˆì„ ì‚¬ìš©í•˜ê¸° ë•Œë¬¸ì…ë‹ˆë‹¤.
        @Autowired
        private UserFacadeService userFacadeService;
    
        // @MockBeanì„ ì‚¬ìš©í•˜ì—¬ Spring ì»¨í…ìŠ¤íŠ¸ì— ìˆëŠ” BossReservationService ë¹ˆì„ ëª¨ì˜ ê°ì²´ë¡œ ëŒ€ì²´í•©ë‹ˆë‹¤.
        // ì´ë ‡ê²Œ í•˜ë©´ UserFacadeServiceê°€ ì£¼ì…ë°›ëŠ” BossReservationServiceëŠ” ì´ ëª¨ì˜ ê°ì²´ê°€ ë©ë‹ˆë‹¤.
        @MockBean
        private BossReservationService bossReservationService;
    
        // @MockBeanì„ ì‚¬ìš©í•˜ì—¬ MainUserRepositoryë„ ëª¨ì˜ ê°ì²´ë¡œ ëŒ€ì²´í•©ë‹ˆë‹¤.
        @MockBean
        private MainUserRepository userRepository;
    
        // í…ŒìŠ¤íŠ¸ë¥¼ ìœ„í•œ ìƒìˆ˜ ë°ì´í„°
        private static final Integer TEST_SHOP_CODE = 1;
        private static final Integer TEST_RESV_CODE = 100;
        private static final String TEST_MENU_NAME = "Test Menu";
        private static final String TEST_USER_NAME = "Test User";
        private static final Date TEST_DATE = Date.valueOf(LocalDate.now());
        private static final Time TEST_TIME = Time.valueOf(LocalTime.of(10, 0));
        private BossResvInputDTO TEST_REGIST_INPUT_DTO;
        private SalesDTO TEST_SALES_DTO;
    
        @BeforeEach
        void setUp() {
            // SecurityContextHolder.clearContext()ëŠ” @WithMockUserë‚˜ @WithUserDetailsë¥¼ ì‚¬ìš©í•  ê²½ìš°
            // Spring Security í…ŒìŠ¤íŠ¸ ì–´ë…¸í…Œì´ì…˜ì´ ìë™ìœ¼ë¡œ ì»¨í…ìŠ¤íŠ¸ë¥¼ ê´€ë¦¬í•˜ë¯€ë¡œ ëª…ì‹œì ìœ¼ë¡œ í˜¸ì¶œí•  í•„ìš”ê°€ ì—†ìŠµë‹ˆë‹¤.
            // í•˜ì§€ë§Œ í˜¹ì‹œ ëª¨ë¥¼ ìƒí™©ì„ ëŒ€ë¹„í•´ ë‘ì–´ë„ ë¬´ë°©í•©ë‹ˆë‹¤.
            SecurityContextHolder.clearContext();
    
            // í…ŒìŠ¤íŠ¸ì— ì‚¬ìš©í•  DTO ê°ì²´ ì´ˆê¸°í™” (ë§¤ í…ŒìŠ¤íŠ¸ë§ˆë‹¤ ìƒˆë¡œìš´ ì¸ìŠ¤í„´ìŠ¤ ìƒì„±)
            TEST_REGIST_INPUT_DTO = new BossResvInputDTO(TEST_USER_NAME, "01012345678", TEST_MENU_NAME, TEST_SHOP_CODE, TEST_DATE, TEST_TIME, "comment");
            TEST_SALES_DTO = new SalesDTO(TEST_RESV_CODE, TEST_SHOP_CODE, TEST_MENU_NAME, 10000);
        }
    
        /**
         * Spring Security Contextì— íŠ¹ì • ì‚¬ìš©ìì˜ ì¸ì¦ ì •ë³´ë¥¼ ì„¤ì •í•˜ëŠ” í—¬í¼ ë©”ì†Œë“œ.
         * {@code @WithMockUser}ë‚˜ {@code @WithUserDetails}ë¥¼ ì‚¬ìš©í•˜ëŠ” ê²ƒì´ ë” ì¼ë°˜ì ì´ì§€ë§Œ,
         * ì—¬ê¸°ì„œëŠ” ìœ ì—°ì„±ì„ ìœ„í•´ ìˆ˜ë™ ì„¤ì • ë°©ì‹ì„ ìœ ì§€í•©ë‹ˆë‹¤.
         *
         * @param username ì„¤ì •í•  ì‚¬ìš©ì ì´ë¦„
         * @param isAdmin  í•´ë‹¹ ì‚¬ìš©ìê°€ ê´€ë¦¬ìì¸ì§€ ì—¬ë¶€
         */
        private void setSecurityContext(String username, boolean isAdmin) {
            // UserDetails Mock: Spring Securityì˜ Principal ì—­í• ì„ í•©ë‹ˆë‹¤.
            UserDetails userDetails = mock(UserDetails.class);
            when(userDetails.getUsername()).thenReturn(username);
            // ê¶Œí•œì€ checkAdminAccess ë¡œì§ì—ì„œ isAdmin í•„ë“œë¥¼ ì§ì ‘ í™•ì¸í•˜ë¯€ë¡œ Collections.emptyList()ë¡œ ì¶©ë¶„í•©ë‹ˆë‹¤.
            when(userDetails.getAuthorities()).thenReturn(Collections.emptyList());
    
            // User Entity Mock: checkAdminAccess()ì—ì„œ userRepositoryë¥¼ í†µí•´ ì¡°íšŒë˜ëŠ” User ê°ì²´ë¥¼ ëª¨ì˜í•©ë‹ˆë‹¤.
            User mockUser = mock(User.class);
            when(mockUser.getIsAdmin()).thenReturn(isAdmin ? 1 : 0); // ê´€ë¦¬ìë©´ 1, ì•„ë‹ˆë©´ 0 ë°˜í™˜í•˜ë„ë¡ ì„¤ì •
    
            // MainUserRepository Mock: findByUsername í˜¸ì¶œ ì‹œ ìœ„ì—ì„œ ì •ì˜í•œ mockUserë¥¼ ë°˜í™˜í•˜ë„ë¡ ì„¤ì •
            // @MockBeanìœ¼ë¡œ ì£¼ì…ëœ userRepositoryì— ëŒ€í•œ ìŠ¤í… ì„¤ì •ì…ë‹ˆë‹¤.
            when(userRepository.findByUsername(username)).thenReturn(Optional.of(mockUser));
    
            // Authentication ê°ì²´ ìƒì„± ë° SecurityContextHolderì— ì„¤ì •
            Authentication authentication = new UsernamePasswordAuthenticationToken(userDetails, null, userDetails.getAuthorities());
            SecurityContextHolder.getContext().setAuthentication(authentication);
        }
    
        @Test
        @DisplayName("ê´€ë¦¬ì ì ‘ê·¼ í…ŒìŠ¤íŠ¸ - ëª¨ë“  BossReservation ê´€ë ¨ ë©”ì†Œë“œ")
        void adminAccessToBossReservationMethodsTest() {
            // given
            // ê´€ë¦¬ì ì‚¬ìš©ì ì„¤ì •. ì´ ë©”ì†Œë“œëŠ” @SpringBootTest í™˜ê²½ì—ì„œë„ ì‘ë™í•©ë‹ˆë‹¤.
            setSecurityContext("adminUser", true);
    
            // when & then: ê´€ë¦¬ìëŠ” ëª¨ë“  *ForAdmin ë©”ì†Œë“œì— ì˜ˆì™¸ ì—†ì´ ì ‘ê·¼ ê°€ëŠ¥í•´ì•¼ í•¨
    
            // findReservationListForAdmin
            assertDoesNotThrow(() -> userFacadeService.findReservationListForAdmin(TEST_SHOP_CODE));
            // @MockBeanìœ¼ë¡œ ëŒ€ì²´ëœ bossReservationServiceì˜ ë©”ì†Œë“œê°€ í˜¸ì¶œë˜ì—ˆëŠ”ì§€ ê²€ì¦
            verify(bossReservationService, times(1)).findReservationList(TEST_SHOP_CODE);
    
            // findReservationListByDateForAdmin
            assertDoesNotThrow(() -> userFacadeService.findReservationListByDateForAdmin(TEST_SHOP_CODE, TEST_DATE));
            verify(bossReservationService, times(1)).findReservationListByDate(TEST_SHOP_CODE, TEST_DATE);
    
            // findReservationListByNameForAdmin
            assertDoesNotThrow(() -> userFacadeService.findReservationListByNameForAdmin(TEST_SHOP_CODE, TEST_USER_NAME));
            verify(bossReservationService, times(1)).findReservationListByName(TEST_SHOP_CODE, TEST_USER_NAME);
    
            // findReservationListByMenuNameForAdmin
            assertDoesNotThrow(() -> userFacadeService.findReservationListByMenuNameForAdmin(TEST_SHOP_CODE, TEST_MENU_NAME));
            verify(bossReservationService, times(1)).findReservationListByMenuName(TEST_SHOP_CODE, TEST_MENU_NAME);
    
            // findReservationByResvCodeForAdmin
            assertDoesNotThrow(() -> userFacadeService.findReservationByResvCodeForAdmin(TEST_RESV_CODE));
            verify(bossReservationService, times(1)).findReservationByResvCode(TEST_RESV_CODE);
    
            // registNewReservationForAdmin
            assertDoesNotThrow(() -> userFacadeService.registNewReservationForAdmin(TEST_REGIST_INPUT_DTO));
            verify(bossReservationService, times(1)).registNewReservation(TEST_REGIST_INPUT_DTO);
    
            // updateReservationForAdmin
            BossResvInputDTO updateInputDTO = new BossResvInputDTO(TEST_USER_NAME, "01098765432", TEST_MENU_NAME, TEST_SHOP_CODE, TEST_DATE, TEST_TIME, "updated comment");
            assertDoesNotThrow(() -> userFacadeService.updateReservationForAdmin(updateInputDTO, TEST_RESV_CODE));
            verify(bossReservationService, times(1)).updateReservation(updateInputDTO, TEST_RESV_CODE);
    
            // cancelReservationForAdmin
            assertDoesNotThrow(() -> userFacadeService.cancelReservationForAdmin(TEST_RESV_CODE));
            verify(bossReservationService, times(1)).cancelReservation(TEST_RESV_CODE);
    
            // deleteReservationForAdmin
            assertDoesNotThrow(() -> userFacadeService.deleteReservationForAdmin(TEST_RESV_CODE));
            verify(bossReservationService, times(1)).deleteReservation(TEST_RESV_CODE);
    
            // afterProcedureForAdmin
            assertDoesNotThrow(() -> userFacadeService.afterProcedureForAdmin(TEST_SALES_DTO));
            verify(bossReservationService, times(1)).afterProcedure(TEST_SALES_DTO);
    
            // findNoShowListForAdmin
            assertDoesNotThrow(() -> userFacadeService.findNoShowListForAdmin(TEST_DATE, ReservationState.NOSHOW, TEST_SHOP_CODE));
            verify(bossReservationService, times(1)).findNoShowList(TEST_DATE, ReservationState.NOSHOW, TEST_SHOP_CODE);
    
            // noShowHandlerForAdmin
            assertDoesNotThrow(() -> userFacadeService.noShowHandlerForAdmin(TEST_RESV_CODE));
            verify(bossReservationService, times(1)).noShowHandler(TEST_RESV_CODE);
        }
    
        // ë¹„ê´€ë¦¬ì ì ‘ê·¼ í…ŒìŠ¤íŠ¸ë¥¼ ì¶”ê°€í•  ìˆ˜ë„ ìˆìŠµë‹ˆë‹¤.
        @Test
        @DisplayName("ë¹„ê´€ë¦¬ì ì ‘ê·¼ í…ŒìŠ¤íŠ¸ - ëª¨ë“  BossReservation ê´€ë ¨ ë©”ì†Œë“œ ì ‘ê·¼ ê±°ë¶€")
        void nonAdminAccessToBossReservationMethodsTest() {
            // given
            setSecurityContext("normalUser", false); // ë¹„ê´€ë¦¬ì ì‚¬ìš©ì ì„¤ì •
    
            // when & then: ë¹„ê´€ë¦¬ìëŠ” *ForAdmin ë©”ì†Œë“œì— ì ‘ê·¼ ì‹œ ì˜ˆì™¸ê°€ ë°œìƒí•´ì•¼ í•¨ (ì˜ˆ: AccessDeniedException ë˜ëŠ” ì»¤ìŠ¤í…€ ì˜ˆì™¸)
    
            // ì´ ë¶€ë¶„ì€ userFacadeService.checkAdminAccess()ê°€ ì–´ë–¤ ì¢…ë¥˜ì˜ ì˜ˆì™¸ë¥¼ ë˜ì§€ëŠ”ì§€ì— ë”°ë¼
            // assertThrowsì˜ ë‘ ë²ˆì§¸ ì¸ì(ê¸°ëŒ€í•˜ëŠ” ì˜ˆì™¸ í´ë˜ìŠ¤)ë¥¼ ë§ì¶°ì£¼ì–´ì•¼ í•©ë‹ˆë‹¤.
            // ì˜ˆë¥¼ ë“¤ì–´, AccessDeniedExceptionì„ ë˜ì§„ë‹¤ë©´ ë‹¤ìŒê³¼ ê°™ì´ ì‘ì„±í•©ë‹ˆë‹¤.
            // assertThrows(AccessDeniedException.class, () -> userFacadeService.findReservationListForAdmin(TEST_SHOP_CODE));
    
            // ì—¬ê¸°ì„œëŠ” í¸ì˜ìƒ ì˜ˆì™¸ íƒ€ì…ì€ ëª…ì‹œí•˜ì§€ ì•Šê³  assertThrowsë¥¼ ì‚¬ìš©í•©ë‹ˆë‹¤.
            // ì‹¤ì œë¡œëŠ” ì—¬ëŸ¬ë¶„ì˜ checkAdminAccess ë¡œì§ì—ì„œ ë˜ì§€ëŠ” ì •í™•í•œ ì˜ˆì™¸ íƒ€ì…ì„ ì§€ì •í•´ì•¼ í•©ë‹ˆë‹¤.
    
            // findReservationListForAdmin
            // userFacadeService.findReservationListForAdmin ë‚´ë¶€ì—ì„œ checkAdminAccess í˜¸ì¶œ ì‹œ ì˜ˆì™¸ ë°œìƒì„ ì˜ˆìƒí•©ë‹ˆë‹¤.
            assertThrows(RuntimeException.class, () -> userFacadeService.findReservationListForAdmin(TEST_SHOP_CODE));
            verify(bossReservationService, never()).findReservationList(TEST_SHOP_CODE); // ì„œë¹„ìŠ¤ ë©”ì†Œë“œëŠ” í˜¸ì¶œë˜ì§€ ì•Šì•„ì•¼ í•©ë‹ˆë‹¤.
    
            // findReservationListByDateForAdmin
            assertThrows(RuntimeException.class, () -> userFacadeService.findReservationListByDateForAdmin(TEST_SHOP_CODE, TEST_DATE));
            verify(bossReservationService, never()).findReservationListByDate(TEST_SHOP_CODE, TEST_DATE);
    
            // findReservationListByNameForAdmin
            assertThrows(RuntimeException.class, () -> userFacadeService.findReservationListByNameForAdmin(TEST_SHOP_CODE, TEST_USER_NAME));
            verify(bossReservationService, never()).findReservationListByName(TEST_SHOP_CODE, TEST_USER_NAME);
    
            // findReservationListByMenuNameForAdmin
            assertThrows(RuntimeException.class, () -> userFacadeService.findReservationListByMenuNameForAdmin(TEST_SHOP_CODE, TEST_MENU_NAME));
            verify(bossReservationService, never()).findReservationListByMenuName(TEST_SHOP_CODE, TEST_MENU_NAME);
    
            // findReservationByResvCodeForAdmin
            assertThrows(RuntimeException.class, () -> userFacadeService.findReservationByResvCodeForAdmin(TEST_RESV_CODE));
            verify(bossReservationService, never()).findReservationByResvCode(TEST_RESV_CODE);
    
            // registNewReservationForAdmin
            assertThrows(RuntimeException.class, () -> userFacadeService.registNewReservationForAdmin(TEST_REGIST_INPUT_DTO));
            verify(bossReservationService, never()).registNewReservation(TEST_REGIST_INPUT_DTO);
    
            // updateReservationForAdmin
            BossResvInputDTO updateInputDTO = new BossResvInputDTO(TEST_USER_NAME, "01098765432", TEST_MENU_NAME, TEST_SHOP_CODE, TEST_DATE, TEST_TIME, "updated comment");
            assertThrows(RuntimeException.class, () -> userFacadeService.updateReservationForAdmin(updateInputDTO, TEST_RESV_CODE));
            verify(bossReservationService, never()).updateReservation(updateInputDTO, TEST_RESV_CODE);
    
            // cancelReservationForAdmin
            assertThrows(RuntimeException.class, () -> userFacadeService.cancelReservationForAdmin(TEST_RESV_CODE));
            verify(bossReservationService, never()).cancelReservation(TEST_RESV_CODE);
    
            // deleteReservationForAdmin
            assertThrows(RuntimeException.class, () -> userFacadeService.deleteReservationForAdmin(TEST_RESV_CODE));
            verify(bossReservationService, never()).deleteReservation(TEST_RESV_CODE);
    
            // afterProcedureForAdmin
            assertThrows(RuntimeException.class, () -> userFacadeService.afterProcedureForAdmin(TEST_SALES_DTO));
            verify(bossReservationService, never()).afterProcedure(TEST_SALES_DTO);
    
            // findNoShowListForAdmin
            assertThrows(RuntimeException.class, () -> userFacadeService.findNoShowListForAdmin(TEST_DATE, ReservationState.NOSHOW, TEST_SHOP_CODE));
            verify(bossReservationService, never()).findNoShowList(TEST_DATE, ReservationState.NOSHOW, TEST_SHOP_CODE);
    
            // noShowHandlerForAdmin
            assertThrows(RuntimeException.class, () -> userFacadeService.noShowHandlerForAdmin(TEST_RESV_CODE));
            verify(bossReservationService, never()).noShowHandler(TEST_RESV_CODE);
        }

## 5. Cut & organize UserFacadeService
(Now)

    package com.header.header.domain.user.facade;

    import com.header.header.auth.model.dto.LoginUserDTO;
    import com.header.header.auth.model.dto.SignupDTO;
    import com.header.header.common.exception.NotFoundException;
    import com.header.header.domain.menu.dto.MenuCategoryDTO;
    import com.header.header.domain.menu.service.MenuCategoryService;
    import com.header.header.domain.message.service.MessageSendBatchService;
    import com.header.header.domain.message.service.MessageTemplateService;
    import com.header.header.domain.message.service.ShopMessageHistoryService;
    import com.header.header.domain.reservation.dto.BossResvInputDTO;
    import com.header.header.domain.reservation.dto.BossResvProjectionDTO;
    import com.header.header.domain.reservation.enums.ReservationState;
    import com.header.header.domain.reservation.service.BossReservationService;
    import com.header.header.domain.sales.dto.SalesDTO;
    import com.header.header.domain.sales.service.SalesService;
    import com.header.header.domain.user.dto.UserDTO;
    import com.header.header.domain.user.entity.User;
    import com.header.header.domain.user.repository.MainUserRepository;
    import com.header.header.domain.user.service.UserService;
    import lombok.RequiredArgsConstructor;
    import org.apache.commons.logging.Log;
    import org.springframework.security.core.Authentication;
    import org.springframework.security.core.context.SecurityContextHolder;
    import org.springframework.security.core.userdetails.UserDetails;
    import org.springframework.security.core.userdetails.UsernameNotFoundException;
    import org.springframework.stereotype.Service;
    import org.springframework.transaction.annotation.Transactional;
    import org.springframework.security.access.AccessDeniedException;
    
    import java.sql.Date;
    import java.util.List;
    
    @Service
    @RequiredArgsConstructor
    public class UserFacadeService {
    
        private final UserService userService;
        private final MainUserRepository userRepository;
        private final BossReservationService bossReservationService;
        private final SalesService salesService;
        private final MessageSendBatchService messageSendBatchService;
        private final MessageTemplateService messageTemplateService;
        private final MenuCategoryService menuCategoryService;
        private final ShopMessageHistoryService shopMessageHistoryService;
    
        /* 1. ë”ë¯¸ ìœ ì € ë“±ë¡ (ì „í™”ë²ˆí˜¸/ì´ë¦„ ê¸°ë°˜)
        * ì—…ì¥ì—ì„œ ì „í™”ë²ˆí˜¸ + ì´ë¦„ë§Œìœ¼ë¡œ ì„ì‹œ ê°€ì…í•œ dummy user ìƒì„± */
        @Transactional
        public User registerDummyUser(String userName, String userPhone) {
            return userService.createUserByNameAndPhone(userName, userPhone);
        }
    
        /* 2. ì´ë¦„/ì „í™”ë²ˆí˜¸ë¡œ ìœ ì € ì½”ë“œ ì¡°íšŒ */
        public Integer getUserCodeByNameAndPhone(String name, String phone) {
            return userService.findUserByNameAndPhone(name, phone);
        }
    
        /* 3. íšŒì›ê°€ì… ì²˜ë¦¬ (ì¤‘ë³µê²€ì‚¬ í¬í•¨) */
        @Transactional
        public String registerUser(SignupDTO signupDTO) {
            return userService.registerNewUser(signupDTO);
        }
    
        /* 4. ë¡œê·¸ì¸ ì‹œ ìœ ì € ì •ë³´ ì¡°íšŒ */
        public LoginUserDTO login(String userId) {
            return userService.findByUserId(userId);
        }
    
        /* 5. íšŒì› ì •ë³´ ìˆ˜ì • */
        @Transactional
        public String updateUser(UserDTO dto) {
            return userService.modifyUser(dto);
        }
    
        /* 6. íšŒì› íƒˆí‡´ ì²˜ë¦¬ (isLeave = true) */
        @Transactional
        public void withdrawUser(UserDTO dto) {
            userService.deleteUser(dto);
        }
    }

(Before)

    package com.header.header.domain.user.facade;
    ......
    
    @Service
    @RequiredArgsConstructor
    public class UserFacadeService {
    
        private final UserService userService;
        private final MainUserRepository userRepository;
        private final BossReservationService bossReservationService;
        private final SalesService salesService;
        private final MessageSendBatchService messageSendBatchService;
        private final MessageTemplateService messageTemplateService;
        private final MenuCategoryService menuCategoryService;
        private final ShopMessageHistoryService shopMessageHistoryService;
    
        /* 1. ë”ë¯¸ ìœ ì € ë“±ë¡ (ì „í™”ë²ˆí˜¸/ì´ë¦„ ê¸°ë°˜)
        * ì—…ì¥ì—ì„œ ì „í™”ë²ˆí˜¸ + ì´ë¦„ë§Œìœ¼ë¡œ ì„ì‹œ ê°€ì…í•œ dummy user ìƒì„± */
        @Transactional
        public User registerDummyUser(String userName, String userPhone) {
            return userService.createUserByNameAndPhone(userName, userPhone);
        }
    
        /* 2. ì´ë¦„/ì „í™”ë²ˆí˜¸ë¡œ ìœ ì € ì½”ë“œ ì¡°íšŒ */
        public Integer getUserCodeByNameAndPhone(String name, String phone) {
            return userService.findUserByNameAndPhone(name, phone);
        }
    
        /* 3. íšŒì›ê°€ì… ì²˜ë¦¬ (ì¤‘ë³µê²€ì‚¬ í¬í•¨) */
        @Transactional
        public String registerUser(SignupDTO signupDTO) {
            return userService.registerNewUser(signupDTO);
        }
    
        /* 4. ë¡œê·¸ì¸ ì‹œ ìœ ì € ì •ë³´ ì¡°íšŒ */
        public LoginUserDTO login(String userId) {
            return userService.findByUserId(userId);
        }
    
        /* 5. íšŒì› ì •ë³´ ìˆ˜ì • */
        @Transactional
        public String updateUser(UserDTO dto) {
            return userService.modifyUser(dto);
        }
    
        /* 6. íšŒì› íƒˆí‡´ ì²˜ë¦¬ (isLeave = true) */
        @Transactional
        public void withdrawUser(UserDTO dto) {
            userService.deleteUser(dto);
        }
    
        /* 7. íƒ€ ì—”í‹°í‹° ì„œë¹„ìŠ¤ì˜ ì¸ê°€ ì²˜ë¦¬ ë° í™•ì¸ì„ ìœ„í•œ ë©”ì„œë“œ*/
        private void checkAdminAccess() {
            Authentication authentication = SecurityContextHolder.getContext().getAuthentication();
    
            if (authentication == null || !authentication.isAuthenticated()) {
                throw new AccessDeniedException("íšŒì›ê°€ì… ë° ë¡œê·¸ì¸ í›„ ì´ìš©ê°€ëŠ¥í•©ë‹ˆë‹¤.");
            }
    
            Object principal = authentication.getPrincipal();
    
            if (principal instanceof UserDetails userDetails) {
                User currentUser = userRepository.findByUserId(userDetails.getUsername());
    
                if (currentUser == null) {
                    throw new UsernameNotFoundException("í•´ë‹¹ ìœ ì €ë¥¼ ì°¾ì„ ìˆ˜ ì—†ìŠµë‹ˆë‹¤.");
                }
    
                if (currentUser.isAdmin() == false) { // isAdminì´ false(ì¼ë°˜ ê³ ê°)ë¼ë©´
                    throw new AccessDeniedException("ê´€ë¦¬ìë§Œ ì ‘ê·¼ê°€ëŠ¥í•œ í˜ì´ì§€ì…ë‹ˆë‹¤.");
                }
            } else {
                throw new AccessDeniedException("ìƒµ ë“±ë¡ í›„ ê´€ë¦¬ì ì „í™˜ì´ ë˜ì–´ì•¼ë§Œ ì ‘ê·¼ê°€ëŠ¥í•œ í˜ì´ì§€ì…ë‹ˆë‹¤.");
            }
        }
    
        /* 7. BossReservation Authorization ì²˜ë¦¬ */
        public List<BossResvProjectionDTO> findReservationListForAdmin(Integer shopCode) {
            checkAdminAccess();
            return bossReservationService.findReservationList(shopCode);
        }
    
        public List<BossResvProjectionDTO> findReservationListByDateForAdmin(Integer shopCode, Date selectedDate) {
            checkAdminAccess();
            return bossReservationService.findReservationListByDate(shopCode, selectedDate);
        }
    
        public List<BossResvProjectionDTO> findReservationListByNameForAdmin(Integer shopCode, String userName) {
            checkAdminAccess();
            return bossReservationService.findReservationListByName(shopCode, userName);
        }
    
        public List<BossResvProjectionDTO> findReservationListByMenuNameForAdmin(Integer shopCode, String menuName) {
            checkAdminAccess();
            return bossReservationService.findReservationListByMenuName(shopCode, menuName);
        }
    
        public BossResvProjectionDTO findReservationByResvCodeForAdmin(Integer resvCode) {
            checkAdminAccess();
            return bossReservationService.findReservationByResvCode(resvCode);
        }
    
        public void registNewReservationForAdmin(BossResvInputDTO inputDTO) {
            checkAdminAccess();
            bossReservationService.registNewReservation(inputDTO);
        }
    
        public void updateReservationForAdmin(BossResvInputDTO inputDTO, Integer resvCode) {
            checkAdminAccess();
            bossReservationService.updateReservation(inputDTO, resvCode);
        }
    
        public void cancelReservationForAdmin(Integer resvCode) {
            checkAdminAccess();
            bossReservationService.cancelReservation(resvCode);
        }
    
        public void deleteReservationForAdmin(Integer resvCode) {
            checkAdminAccess();
            bossReservationService.deleteReservation(resvCode);
        }
    
    
        /* 8. SalesService Authorization ì²˜ë¦¬ */
        @Transactional
        public void adminSalesLookup(LoginUserDTO loginUserDTO) throws AccessDeniedException {
            User user = userRepository.findByUserId(loginUserDTO.getUserId());
            salesService.accessSales(user);
        }
    
        /* 9. Message Authorization ì²˜ë¦¬ */
        @Transactional
        public void adminMsgAuthorize(LoginUserDTO loginUserDTO) {
            User user = userRepository.findByUserId(loginUserDTO.getUserId());
            messageSendBatchService.accessMSB(user);
        }
    
        /* 10. MsgTemplate ì²˜ë¦¬ */
        @Transactional
        public void adminMsgTemplateAuthorize(LoginUserDTO loginUserDTO){
            User user = userRepository.findByUserId(loginUserDTO.getUserId());
            messageSendBatchService.accessMSB(user);
        }
    
        /* 11. MsgHistory ì¸ê°€ */
        @Transactional
        public void adminMsgHistoryAuthorize(LoginUserDTO loginUserDTO) {
            User user = userRepository.findByUserId(loginUserDTO.getUserId());
            messageSendBatchService.accessMSB(user);
        }
    
        /* 12. MenuCategoryService authorization : createMenuCategory, updateMenuCategory, deleteMenuCategory */
        @Transactional
        public MenuCategoryDTO authCreateMenuCategory(LoginUserDTO loginUserDTO, MenuCategoryDTO dto, Integer shopCode) {
            User user = userRepository.findByUserId(loginUserDTO.getUserId());
    
            // MenuCategorySercie ë‚´ì˜ createMenuCategory ë©”ì†Œë“œ ìˆ˜ì • ì—†ì´ ì´ìš©í•˜ê¸° ìœ„í•´
            // íŒŒì‚¬ë“œì„œë¹„ìŠ¤ì—ì„œì˜ exception ì‚¬ìš©
            if (!user.isAdmin()) {
                throw new AccessDeniedException("ê´€ë¦¬ìë§Œ ì ‘ê·¼ê°€ëŠ¥í•œ í˜ì´ì§€ì…ë‹ˆë‹¤.");
            }
    
            return menuCategoryService.createMenuCategory(dto, shopCode);
        }
    
        @Transactional
        public MenuCategoryDTO authUpdateMenuCategory(LoginUserDTO loginUserDTO, Integer categoryCode, Integer shopCode, MenuCategoryDTO dto) {
            User user = userRepository.findByUserId(loginUserDTO.getUserId());
    
            if (!user.isAdmin()) {
                throw new AccessDeniedException("ê´€ë¦¬ìë§Œ ì ‘ê·¼ê°€ëŠ¥í•œ í˜ì´ì§€ì…ë‹ˆë‹¤.");
            }
    
            return menuCategoryService.updateMenuCategory(categoryCode, shopCode, dto);
        }
    
        @Transactional
        public void authDeleteMenuCategory(LoginUserDTO loginUserDTO, Integer categoryCode, Integer shopCode) {
            User user = userRepository.findByUserId(loginUserDTO.getUserId());
    
            if (!user.isAdmin()) {
                throw new AccessDeniedException("ê´€ë¦¬ìë§Œ ì ‘ê·¼ê°€ëŠ¥í•œ í˜ì´ì§€ì…ë‹ˆë‹¤.");
            }
    
            menuCategoryService.deleteMenuCategoryWithBulkUpdate(categoryCode, shopCode);
        }
    }


## 6. Remove this code from MessageSendBatchService

    /* Authorization */
    /**
     * isAdmin=trueì¸ userë§Œ ì ‘ê·¼ ê°€ëŠ¥
     * (ì´ ë©”ì†Œë“œëŠ” UserFacadeServiceë¥¼ í†µí•´
     * AuthUserServiceTests - adminMSBauthorizeì—ì„œ ì‚¬ìš©ë©ë‹ˆë‹¤)
     *
     * @param user
     * @throw AccessDeniedException */
    public void accessMSB(User user) {
        if (!user.isAdmin()) {
            throw new AccessDeniedException("ì´ í˜ì´ì§€ëŠ” ê´€ë¦¬ìë§Œ ì ‘ê·¼ ê°€ëŠ¥í•©ë‹ˆë‹¤.");
        }
    }

## 7. Eradicate this codes from the SalesService

    /**
    * isAdmin=trueì¸ userë§Œ ì ‘ê·¼ ê°€ëŠ¥
    * (ì´ ë©”ì†Œë“œëŠ” UserFacadeServiceë¥¼ í†µí•´
     * AuthUserServiceTests - adminSalesAuthorizeì—ì„œ ì‚¬ìš©ë©ë‹ˆë‹¤)
    *
    * @param user 
    * @throw AccessDeniedException */
    public void accessSales(User user) {
        if (!user.isAdmin()) {
            throw new AccessDeniedException("ë§¤ì¶œ ê´€ë¦¬ëŠ” ê´€ë¦¬ìë§Œ ì ‘ê·¼ ê°€ëŠ¥í•©ë‹ˆë‹¤.");
        }
    }

## 8. Commit and push  15:28

## 9. Checkout from branch 45 and change branch into feature/86-feature-user-controller-mapping 15:53
